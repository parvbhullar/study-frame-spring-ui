<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE sqlMap PUBLIC "-//ibatis.apache.org//DTD SQL Map 2.0//EN" "http://ibatis.apache.org/dtd/sql-map-2.dtd">
<sqlMap namespace="CORE_ADVERTISER">
  <resultMap class="com.mitian.airad.model.CoreAdvertiser" id="ibatorgenerated_BaseResultMap">
    <!--
      WARNING - This element is automatically generated by Apache iBATIS ibator, do not modify.
      This element was generated on Thu Jan 20 16:39:10 CST 2011.
    -->
    <result column="ADVERTISER_ID" jdbcType="INTEGER" property="advertiserId" />
    <result column="MEMBER_ID" jdbcType="LONG" property="memberId" />
    <result column="CARD_ID" jdbcType="VARCHAR" property="cardId" />
    <result column="CARD_PATH" jdbcType="VARCHAR" property="cardPath" />
    <result column="ADUIT_STATUS" jdbcType="CHAR" property="aduitStatus" />
    <result column="ADUIT_TIME" jdbcType="TIMESTAMP" property="aduitTime" />
    <result column="ADUIT_SUGGEST" jdbcType="VARCHAR" property="aduitSuggest" />
    <result column="ADUIT_OPER" jdbcType="VARCHAR" property="aduitOper" />
    <result column="ADD_OPER" jdbcType="VARCHAR" property="addOper" />
    <result column="ADD_TIME" jdbcType="TIMESTAMP" property="addTime" />
    <result column="UPD_OPER" jdbcType="VARCHAR" property="updOper" />
    <result column="UPD_TIME" jdbcType="TIMESTAMP" property="updTime" />
    <result column="DEL_OPER" jdbcType="VARCHAR" property="delOper" />
    <result column="DEL_TIME" jdbcType="TIMESTAMP" property="delTime" />
    <result column="DEL_FLAG" jdbcType="CHAR" property="delFlag" />
  </resultMap>
  
   <resultMap id="ibatorgenerated_BaseResultMapAndImg" class="com.mitian.airad.model.CoreAdvertiser" extends="ibatorgenerated_BaseResultMap">
     <result column="EMAIL" property="email" jdbcType="VARCHAR" />
    <result column="CARD_IMG_ID" property="cardImgId" jdbcType="INTEGER" />
    <result column="IMG_SIZE" property="imgSize" jdbcType="INTEGER" />
    <result column="IMG_FORMAT" property="imgFormat" jdbcType="CHAR" />
  </resultMap> 
  
  <!-- 查询所有广告主认证信息 -->
  <select id="ibatorgenerated_selectImgByPrimaryKey" parameterClass="java.util.Map" resultMap="ibatorgenerated_BaseResultMapAndImg">
    <!--
      WARNING - This element is automatically generated by Apache iBATIS ibator, do not modify.
      This element was generated on Thu Jan 20 16:39:10 CST 2011.
    -->
    select c.EMAIL,a.ADVERTISER_ID,a.MEMBER_ID, a.CARD_ID, a.CARD_PATH, a.ADUIT_STATUS, a.ADUIT_TIME, a.ADUIT_SUGGEST, a.ADUIT_OPER,
      a.ADD_OPER, a.ADD_TIME, a.UPD_OPER, a.UPD_TIME, a.DEL_OPER, a.DEL_TIME, a.DEL_FLAG,b.CARD_IMG_ID,b.IMG_SIZE,b.IMG_FORMAT
       from CORE_ADVERTISER a,CORE_ADVERTISER_IMG b,CORE_MEMBER_INFO c where a.MEMBER_ID=c.MEMBER_ID and
       a.ADVERTISER_ID=b.ADVERTISER_ID
    <isNotEmpty prepend="and" property="email">
           c.email like '%$email$%'
     </isNotEmpty>
     <isNotEmpty prepend="and" property="advertiserId">
           a.ADVERTISER_ID = #advertiserId#
     </isNotEmpty>
     <isNotEmpty prepend="and" property="aduitStatus">
           a.ADUIT_STATUS=#aduitStatus#
     </isNotEmpty>
      <dynamic prepend="order by">
    <isNotEmpty property="taxis">
           a.ADD_TIME $taxis$
    </isNotEmpty>
    </dynamic>
  </select>
  <select id="ibatorgenerated_selectCountImgByPrimaryKey" parameterClass="java.util.Map" resultClass="int">
    <!--
      WARNING - This element is automatically generated by Apache iBATIS ibator, do not modify.
      This element was generated on Thu Jan 20 16:39:10 CST 2011.
    -->
    select count(*) from CORE_ADVERTISER a,CORE_ADVERTISER_IMG b,CORE_MEMBER_INFO c where a.MEMBER_ID=c.MEMBER_ID and
       a.ADVERTISER_ID=b.ADVERTISER_ID
    <isNotEmpty prepend="and" property="email">
           c.email like '%$email$%'
     </isNotEmpty>
     <isNotEmpty prepend="and" property="advertiserId">
           a.ADVERTISER_ID = #advertiserId#
     </isNotEmpty>
     <isNotEmpty prepend="and" property="aduitStatus">
           a.ADUIT_STATUS=#aduitStatus#
     </isNotEmpty>
  </select>
  
  <select id="ibatorgenerated_selectByPrimaryKey" parameterClass="com.mitian.airad.model.CoreAdvertiser" resultMap="ibatorgenerated_BaseResultMap">
    <!--
      WARNING - This element is automatically generated by Apache iBATIS ibator, do not modify.
      This element was generated on Thu Jan 20 16:39:10 CST 2011.
    -->
    select ADVERTISER_ID,MEMBER_ID, CARD_ID, CARD_PATH, ADUIT_STATUS, ADUIT_TIME, ADUIT_SUGGEST, ADUIT_OPER,
      ADD_OPER, ADD_TIME, UPD_OPER, UPD_TIME, DEL_OPER, DEL_TIME, DEL_FLAG
    from CORE_ADVERTISER
    where ADVERTISER_ID = #advertiserId:INTEGER#
  </select>
  <delete id="ibatorgenerated_deleteByPrimaryKey" parameterClass="com.mitian.airad.model.CoreAdvertiser">
    <!--
      WARNING - This element is automatically generated by Apache iBATIS ibator, do not modify.
      This element was generated on Thu Jan 20 16:39:10 CST 2011.
    -->
    delete from CORE_ADVERTISER
    where ADVERTISER_ID = #advertiserId:INTEGER#
  </delete>
  <insert id="ibatorgenerated_insert" parameterClass="com.mitian.airad.model.CoreAdvertiser">
    <!--
      WARNING - This element is automatically generated by Apache iBATIS ibator, do not modify.
      This element was generated on Thu Jan 20 16:39:10 CST 2011.
    -->
    insert into CORE_ADVERTISER (ADVERTISER_ID,MEMBER_ID, CARD_ID, CARD_PATH, ADUIT_STATUS, ADUIT_TIME,
      ADUIT_SUGGEST, ADUIT_OPER, ADD_OPER, ADD_TIME, UPD_OPER, UPD_TIME, DEL_OPER, DEL_TIME,
      DEL_FLAG)
    values (#advertiserId:INTEGER#,#memberId:LONG#, #cardId:VARCHAR#, #cardPath:VARCHAR#, #aduitStatus:CHAR#,
      #aduitTime:TIMESTAMP#, #aduitSuggest:VARCHAR#, #aduitOper:VARCHAR#, #addOper:VARCHAR#,
      #addTime:TIMESTAMP#, #updOper:VARCHAR#, #updTime:TIMESTAMP#, #delOper:VARCHAR#,
      #delTime:TIMESTAMP#, #delFlag:CHAR#)
  </insert>
  <insert id="ibatorgenerated_insertSelective" parameterClass="com.mitian.airad.model.CoreAdvertiser">
    <!--
      WARNING - This element is automatically generated by Apache iBATIS ibator, do not modify.
      This element was generated on Thu Jan 20 16:39:10 CST 2011.
    -->
    insert into CORE_ADVERTISER
    <dynamic prepend="(">
      <isNotNull prepend="," property="advertiserId">
        ADVERTISER_ID
      </isNotNull>
      <isNotNull prepend="," property="memberId">
        MEMBER_ID
      </isNotNull>
      <isNotNull prepend="," property="cardId">
        CARD_ID
      </isNotNull>
      <isNotNull prepend="," property="cardPath">
        CARD_PATH
      </isNotNull>
      <isNotNull prepend="," property="aduitStatus">
        ADUIT_STATUS
      </isNotNull>
      <isNotNull prepend="," property="aduitTime">
        ADUIT_TIME
      </isNotNull>
      <isNotNull prepend="," property="aduitSuggest">
        ADUIT_SUGGEST
      </isNotNull>
      <isNotNull prepend="," property="aduitOper">
        ADUIT_OPER
      </isNotNull>
      <isNotNull prepend="," property="addOper">
        ADD_OPER
      </isNotNull>
      <isNotNull prepend="," property="addTime">
        ADD_TIME
      </isNotNull>
      <isNotNull prepend="," property="updOper">
        UPD_OPER
      </isNotNull>
      <isNotNull prepend="," property="updTime">
        UPD_TIME
      </isNotNull>
      <isNotNull prepend="," property="delOper">
        DEL_OPER
      </isNotNull>
      <isNotNull prepend="," property="delTime">
        DEL_TIME
      </isNotNull>
      <isNotNull prepend="," property="delFlag">
        DEL_FLAG
      </isNotNull>
      )
    </dynamic>
    values
    <dynamic prepend="(">
      <isNotNull prepend="," property="advertiserId">
        #advertiserId:INTEGER#
      </isNotNull>
      <isNotNull prepend="," property="memberId">
        #memberId:LONG#
      </isNotNull>
      <isNotNull prepend="," property="cardId">
        #cardId:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="cardPath">
        #cardPath:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="aduitStatus">
        #aduitStatus:CHAR#
      </isNotNull>
      <isNotNull prepend="," property="aduitTime">
        #aduitTime:TIMESTAMP#
      </isNotNull>
      <isNotNull prepend="," property="aduitSuggest">
        #aduitSuggest:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="aduitOper">
        #aduitOper:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="addOper">
        #addOper:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="addTime">
        #addTime:TIMESTAMP#
      </isNotNull>
      <isNotNull prepend="," property="updOper">
        #updOper:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="updTime">
        #updTime:TIMESTAMP#
      </isNotNull>
      <isNotNull prepend="," property="delOper">
        #delOper:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="delTime">
        #delTime:TIMESTAMP#
      </isNotNull>
      <isNotNull prepend="," property="delFlag">
        #delFlag:CHAR#
      </isNotNull>
      )
    </dynamic>
    <selectKey resultClass="int" keyProperty="advertiserId" type="post" >
            SELECT @@IDENTITY AS ID
       </selectKey> 
  </insert>
  <update id="ibatorgenerated_updateByPrimaryKeySelective" parameterClass="com.mitian.airad.model.CoreAdvertiser">
    <!--
      WARNING - This element is automatically generated by Apache iBATIS ibator, do not modify.
      This element was generated on Thu Jan 20 16:39:10 CST 2011.
    -->
    update CORE_ADVERTISER
    <dynamic prepend="set">
      <isNotNull prepend="," property="memberId">
        MEMBER_ID = #memberId:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="cardId">
        CARD_ID = #cardId:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="cardPath">
        CARD_PATH = #cardPath:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="aduitStatus">
        ADUIT_STATUS = #aduitStatus:CHAR#
      </isNotNull>
      <isNotNull prepend="," property="aduitTime">
        ADUIT_TIME = #aduitTime:TIMESTAMP#
      </isNotNull>
      <isNotNull prepend="," property="aduitSuggest">
        ADUIT_SUGGEST = #aduitSuggest:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="aduitOper">
        ADUIT_OPER = #aduitOper:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="addOper">
        ADD_OPER = #addOper:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="addTime">
        ADD_TIME = #addTime:TIMESTAMP#
      </isNotNull>
      <isNotNull prepend="," property="updOper">
        UPD_OPER = #updOper:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="updTime">
        UPD_TIME = #updTime:TIMESTAMP#
      </isNotNull>
      <isNotNull prepend="," property="delOper">
        DEL_OPER = #delOper:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="delTime">
        DEL_TIME = #delTime:TIMESTAMP#
      </isNotNull>
      <isNotNull prepend="," property="delFlag">
        DEL_FLAG = #delFlag:CHAR#
      </isNotNull>
    </dynamic>
    where ADVERTISER_ID = #advertiserId:INTEGER#
  </update>
  <update id="ibatorgenerated_updateByPrimaryKey" parameterClass="com.mitian.airad.model.CoreAdvertiser">
    <!--
      WARNING - This element is automatically generated by Apache iBATIS ibator, do not modify.
      This element was generated on Thu Jan 20 16:39:10 CST 2011.
    -->
    update CORE_ADVERTISER
    set MEMBER_ID = #memberId:LONG#, 
      CARD_ID = #cardId:VARCHAR#,
      CARD_PATH = #cardPath:VARCHAR#,
      ADUIT_STATUS = #aduitStatus:CHAR#,
      ADUIT_TIME = #aduitTime:TIMESTAMP#,
      ADUIT_SUGGEST = #aduitSuggest:VARCHAR#,
      ADUIT_OPER = #aduitOper:VARCHAR#,
      ADD_OPER = #addOper:VARCHAR#,
      ADD_TIME = #addTime:TIMESTAMP#,
      UPD_OPER = #updOper:VARCHAR#,
      UPD_TIME = #updTime:TIMESTAMP#,
      DEL_OPER = #delOper:VARCHAR#,
      DEL_TIME = #delTime:TIMESTAMP#,
      DEL_FLAG = #delFlag:CHAR#
    where ADVERTISER_ID = #advertiserId:INTEGER#
  </update>
  <update id="ibatorgenerated_updateByPrimaryKeyMemberId" parameterClass="com.mitian.airad.model.CoreAdvertiser">
    <!--
      WARNING - This element is automatically generated by Apache iBATIS ibator, do not modify.
      This element was generated on Thu Jan 20 16:39:10 CST 2011.
    -->
    update CORE_ADVERTISER
    <dynamic prepend="set">
      <isNotNull prepend="," property="memberId">
        MEMBER_ID = #memberId:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="cardId">
        CARD_ID = #cardId:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="cardPath">
        CARD_PATH = #cardPath:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="aduitStatus">
        ADUIT_STATUS = #aduitStatus:CHAR#
      </isNotNull>
      <isNotNull prepend="," property="aduitTime">
        ADUIT_TIME = #aduitTime:TIMESTAMP#
      </isNotNull>
      <isNotNull prepend="," property="aduitSuggest">
        ADUIT_SUGGEST = #aduitSuggest:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="aduitOper">
        ADUIT_OPER = #aduitOper:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="addOper">
        ADD_OPER = #addOper:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="addTime">
        ADD_TIME = #addTime:TIMESTAMP#
      </isNotNull>
      <isNotNull prepend="," property="updOper">
        UPD_OPER = #updOper:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="updTime">
        UPD_TIME = #updTime:TIMESTAMP#
      </isNotNull>
      <isNotNull prepend="," property="delOper">
        DEL_OPER = #delOper:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="delTime">
        DEL_TIME = #delTime:TIMESTAMP#
      </isNotNull>
      <isNotNull prepend="," property="delFlag">
        DEL_FLAG = #delFlag:CHAR#
      </isNotNull>
    </dynamic>
    where MEMBER_ID = #memberId#
  </update>
</sqlMap>
<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE sqlMap PUBLIC "-//ibatis.apache.org//DTD SQL Map 2.0//EN" "http://ibatis.apache.org/dtd/sql-map-2.dtd" >
<sqlMap namespace="CORE_REPORT" >
  <resultMap id="ibatorgenerated_BaseResultMap" class="com.mitian.airad.model.CoreReport" >
    <!--
      WARNING - This element is automatically generated by Apache iBATIS ibator, do not modify.
      This element was generated on Mon Feb 28 15:52:04 CST 2011.
    -->
    <result column="REPORT_ID" property="reportId" jdbcType="INTEGER" />
    <result column="REPORT_TYPE" property="reportType" jdbcType="CHAR" />
    <result column="REPORT_NAME" property="reportName" jdbcType="VARCHAR" />
    <result column="REPORT_STATUS" property="reportStatus" jdbcType="CHAR" />
    <result column="REPORT_START_TIME" property="reportStartTime" jdbcType="TIMESTAMP" />
    <result column="REPORT_END_TIME" property="reportEndTime" jdbcType="TIMESTAMP" />
    <result column="REPORT_FLAG" property="reportFlag" jdbcType="CHAR" />
    <result column="ADD_OPER" property="addOper" jdbcType="VARCHAR" />
    <result column="ADD_TIME" property="addTime" jdbcType="TIMESTAMP" />
    <result column="UPD_OPER" property="updOper" jdbcType="VARCHAR" />
    <result column="UPD_TIME" property="updTime" jdbcType="TIMESTAMP" />
    <result column="DEL_OPER" property="delOper" jdbcType="VARCHAR" />
    <result column="DEL_TIME" property="delTime" jdbcType="TIMESTAMP" />
    <result column="DEL_FLAG" property="delFlag" jdbcType="CHAR" />
    <result column="MEMBER_ID" property="memberId" jdbcType="LONG" />
    <result column="DATE_TYPE" property="dateType" jdbcType="VARCHAR" />
  </resultMap>
  <resultMap id="ibatorgenerated_ResultMapWithBLOBs" class="com.mitian.airad.model.CoreReport" extends="CORE_REPORT.ibatorgenerated_BaseResultMap" >
    <!--
      WARNING - This element is automatically generated by Apache iBATIS ibator, do not modify.
      This element was generated on Mon Feb 28 15:52:04 CST 2011.
    -->
    <result column="REPORT_CON" property="reportCon" jdbcType="LONGVARCHAR" />
  </resultMap>
   <!-- 查询所有分页 -->
    <select id="selectAll" resultMap="ibatorgenerated_BaseResultMap" parameterClass="java.util.HashMap">
        select REPORT_ID, REPORT_TYPE, REPORT_NAME, REPORT_STATUS, REPORT_START_TIME, REPORT_END_TIME, REPORT_FLAG,
        ADD_OPER, ADD_TIME, UPD_OPER, UPD_TIME, DEL_OPER, DEL_TIME, DEL_FLAG, REPORT_CON,MEMBER_ID,DATE_TYPE from CORE_REPORT 
        where (DEL_FLAG  is null OR DEL_FLAG !='1') and MEMBER_ID=#memberId#
         <isNotNull prepend="and"  property="devType" >
        REPORT_TYPE in ($devType$)
      </isNotNull>
        <dynamic prepend=" order by ">
            <isNotEmpty property="descFlag"> ADD_TIME DESC</isNotEmpty>
            <isNotEmpty property="asceFlag"> ADD_TIME ASC</isNotEmpty>
        </dynamic>
         limit $fromRecord$,$pageSize$
    </select>
    
    
    
    <!-- 查询所条数 -->
    <select id="selectAllCount" resultClass="int" parameterClass="com.mitian.airad.model.CoreReport">
        select COUNT(*) count from CORE_REPORT where (DEL_FLAG  is null OR DEL_FLAG !='1') and REPORT_TYPE in ($devType$) and MEMBER_ID=#memberId#
    </select>
    <!-- 删除报表 -->
    <update id="deleteReport" parameterClass="com.mitian.airad.model.CoreReport">
        <!--
            WARNING - This element is automatically generated by Apache iBATIS ibator, do not modify. This element was
            generated on Tue Feb 15 13:33:26 CST 2011.
        -->
        update CORE_REPORT set DEL_FLAG = 1 where REPORT_ID
        = #reportId:INTEGER#  and MEMBER_ID=#memberId:LONG#
    </update>
  <select id="ibatorgenerated_selectByPrimaryKey" resultMap="ibatorgenerated_ResultMapWithBLOBs" parameterClass="com.mitian.airad.model.CoreReport" >
    <!--
      WARNING - This element is automatically generated by Apache iBATIS ibator, do not modify.
      This element was generated on Mon Feb 28 15:52:04 CST 2011.
    -->
    select REPORT_ID, REPORT_TYPE, REPORT_NAME, REPORT_STATUS, REPORT_START_TIME, REPORT_END_TIME,
      REPORT_FLAG, ADD_OPER, ADD_TIME, UPD_OPER, UPD_TIME, DEL_OPER, DEL_TIME, DEL_FLAG, MEMBER_ID,DATE_TYPE,
      REPORT_CON
    from CORE_REPORT
    where REPORT_ID = #reportId:INTEGER# and MEMBER_ID=#memberId:LONG# and (DEL_FLAG  is null OR DEL_FLAG !='1')
  </select>
  <insert id="ibatorgenerated_insert" parameterClass="com.mitian.airad.model.CoreReport" >
    <!--
      WARNING - This element is automatically generated by Apache iBATIS ibator, do not modify.
      This element was generated on Mon Feb 28 15:52:04 CST 2011.
    -->
    insert into CORE_REPORT (REPORT_ID, REPORT_TYPE, REPORT_NAME, REPORT_STATUS, REPORT_START_TIME,
      REPORT_END_TIME, REPORT_FLAG, ADD_OPER, ADD_TIME, UPD_OPER, UPD_TIME, DEL_OPER, DEL_TIME,
      DEL_FLAG, MEMBER_ID, REPORT_CON,DATE_TYPE)
    values (#reportId:INTEGER#, #reportType:CHAR#, #reportName:VARCHAR#, #reportStatus:CHAR#,
      #reportStartTime:TIMESTAMP#, #reportEndTime:TIMESTAMP#, #reportFlag:CHAR#, #addOper:VARCHAR#,
      #addTime:TIMESTAMP#, #updOper:VARCHAR#, #updTime:TIMESTAMP#, #delOper:VARCHAR#,
      #delTime:TIMESTAMP#, #delFlag:CHAR#, #memberId:LONG#, #reportCon:LONGVARCHAR#,#dateType:CHAR#)
  </insert>
  <insert id="ibatorgenerated_insertSelective" parameterClass="com.mitian.airad.model.CoreReport" >
    <!--
      WARNING - This element is automatically generated by Apache iBATIS ibator, do not modify.
      This element was generated on Mon Feb 28 15:52:04 CST 2011.
    -->
    insert into CORE_REPORT
    <dynamic prepend="(" >
      <isNotNull prepend="," property="reportId" >
        REPORT_ID
      </isNotNull>
      <isNotNull prepend="," property="reportType" >
        REPORT_TYPE
      </isNotNull>
      <isNotNull prepend="," property="reportName" >
        REPORT_NAME
      </isNotNull>
      <isNotNull prepend="," property="reportStatus" >
        REPORT_STATUS
      </isNotNull>
      <isNotNull prepend="," property="reportStartTime" >
        REPORT_START_TIME
      </isNotNull>
      <isNotNull prepend="," property="reportEndTime" >
        REPORT_END_TIME
      </isNotNull>
      <isNotNull prepend="," property="reportFlag" >
        REPORT_FLAG
      </isNotNull>
      <isNotNull prepend="," property="addOper" >
        ADD_OPER
      </isNotNull>
      <isNotNull prepend="," property="addTime" >
        ADD_TIME
      </isNotNull>
      <isNotNull prepend="," property="updOper" >
        UPD_OPER
      </isNotNull>
      <isNotNull prepend="," property="updTime" >
        UPD_TIME
      </isNotNull>
      <isNotNull prepend="," property="delOper" >
        DEL_OPER
      </isNotNull>
      <isNotNull prepend="," property="delTime" >
        DEL_TIME
      </isNotNull>
      <isNotNull prepend="," property="delFlag" >
        DEL_FLAG
      </isNotNull>
      <isNotNull prepend="," property="memberId" >
        MEMBER_ID
      </isNotNull>
      <isNotNull prepend="," property="reportCon" >
        REPORT_CON
      </isNotNull>
      <isNotNull prepend="," property="dateType" >
        DATE_TYPE
      </isNotNull>
      )
    </dynamic>
    values
    <dynamic prepend="(" >
      <isNotNull prepend="," property="reportId" >
        #reportId:INTEGER#
      </isNotNull>
      <isNotNull prepend="," property="reportType" >
        #reportType:CHAR#
      </isNotNull>
      <isNotNull prepend="," property="reportName" >
        #reportName:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="reportStatus" >
        #reportStatus:CHAR#
      </isNotNull>
      <isNotNull prepend="," property="reportStartTime" >
        #reportStartTime:TIMESTAMP#
      </isNotNull>
      <isNotNull prepend="," property="reportEndTime" >
        #reportEndTime:TIMESTAMP#
      </isNotNull>
      <isNotNull prepend="," property="reportFlag" >
        #reportFlag:CHAR#
      </isNotNull>
      <isNotNull prepend="," property="addOper" >
        #addOper:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="addTime" >
        #addTime:TIMESTAMP#
      </isNotNull>
      <isNotNull prepend="," property="updOper" >
        #updOper:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="updTime" >
        #updTime:TIMESTAMP#
      </isNotNull>
      <isNotNull prepend="," property="delOper" >
        #delOper:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="delTime" >
        #delTime:TIMESTAMP#
      </isNotNull>
      <isNotNull prepend="," property="delFlag" >
        #delFlag:CHAR#
      </isNotNull>
      <isNotNull prepend="," property="memberId" >
        #memberId:LONG#
      </isNotNull>
      <isNotNull prepend="," property="reportCon" >
        #reportCon:LONGVARCHAR#
      </isNotNull>
       <isNotNull prepend="," property="dateType" >
        #dateType:CHAR#
      </isNotNull>
      )
    </dynamic>
    <!-- 返回id值 -->
     <selectKey resultClass="int" keyProperty="reportId" type="post" >
         SELECT @@IDENTITY AS ID
     </selectKey> 
  </insert>
  <update id="ibatorgenerated_updateByPrimaryKeyWithBLOBs" parameterClass="com.mitian.airad.model.CoreReport" >
    <!--
      WARNING - This element is automatically generated by Apache iBATIS ibator, do not modify.
      This element was generated on Mon Feb 28 15:52:04 CST 2011.
    -->
    update CORE_REPORT
    set REPORT_TYPE = #reportType:CHAR#,
      REPORT_NAME = #reportName:VARCHAR#,
      REPORT_STATUS = #reportStatus:CHAR#,
      REPORT_START_TIME = #reportStartTime:TIMESTAMP#,
      REPORT_END_TIME = #reportEndTime:TIMESTAMP#,
      REPORT_FLAG = #reportFlag:CHAR#,
      ADD_OPER = #addOper:VARCHAR#,
      ADD_TIME = #addTime:TIMESTAMP#,
      UPD_OPER = #updOper:VARCHAR#,
      UPD_TIME = #updTime:TIMESTAMP#,
      DEL_OPER = #delOper:VARCHAR#,
      DEL_TIME = #delTime:TIMESTAMP#,
      DEL_FLAG = #delFlag:CHAR#,
      MEMBER_ID = #memberId:LONG#,
      REPORT_CON = #reportCon:LONGVARCHAR#,
      DATE_TYPE = #dateType:CHAR#
    where REPORT_ID = #reportId:INTEGER# and MEMBER_ID=#memberId:LONG# and (DEL_FLAG  is null OR DEL_FLAG !='1')
  </update>
  <update id="ibatorgenerated_updateByPrimaryKey" parameterClass="com.mitian.airad.model.CoreReport" >
    <!--
      WARNING - This element is automatically generated by Apache iBATIS ibator, do not modify.
      This element was generated on Mon Feb 28 15:52:04 CST 2011.
    -->
    update CORE_REPORT
    set REPORT_TYPE = #reportType:CHAR#,
      REPORT_NAME = #reportName:VARCHAR#,
      REPORT_STATUS = #reportStatus:CHAR#,
      REPORT_START_TIME = #reportStartTime:TIMESTAMP#,
      REPORT_END_TIME = #reportEndTime:TIMESTAMP#,
      REPORT_FLAG = #reportFlag:CHAR#,
      ADD_OPER = #addOper:VARCHAR#,
      ADD_TIME = #addTime:TIMESTAMP#,
      UPD_OPER = #updOper:VARCHAR#,
      UPD_TIME = #updTime:TIMESTAMP#,
      DEL_OPER = #delOper:VARCHAR#,
      DEL_TIME = #delTime:TIMESTAMP#,
      DEL_FLAG = #delFlag:CHAR#,
      MEMBER_ID = #memberId:LONG#,
      DATE_TYPE = #dateType:char#
    where REPORT_ID = #reportId:INTEGER# and MEMBER_ID=#memberId:LONG# and (DEL_FLAG  is null OR DEL_FLAG !='1')
  </update>
</sqlMap>
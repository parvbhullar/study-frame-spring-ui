<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE sqlMap PUBLIC "-//ibatis.apache.org//DTD SQL Map 2.0//EN" "http://ibatis.apache.org/dtd/sql-map-2.dtd" >
<sqlMap namespace="SDK_RESOURCE" >
  <resultMap id="ibatorgenerated_BaseResultMap" class="com.mitian.airad.model.SdkResource" >
    <!--
      WARNING - This element is automatically generated by Apache iBATIS ibator, do not modify.
      This element was generated on Fri Mar 04 17:32:10 CST 2011.
    -->
    <result column="RES_V_ID" property="resVId" jdbcType="INTEGER" />
    <result column="ADD_TIME" property="addTime" jdbcType="TIMESTAMP" />
    <result column="RES_PATH" property="resPath" jdbcType="VARCHAR" />
    <result column="RES_NAME" property="resName" jdbcType="VARCHAR" />
    <result column="OS_TYPE" property="osType" jdbcType="CHAR" />
  </resultMap>

   <!--  根据版本查询出来的版本查询
  -->
 <select id="ibatorgenerated_selectById" resultMap="ibatorgenerated_BaseResultMap" parameterClass="java.util.Map">
 <!--       WARNING - This element is automatically generated by Apache iBATIS ibator, do not modify.
      This element was generated on Thu Feb 17 17:26:45 CST 2011.

  -->
     select RES_V_ID, ADD_TIME, RES_PATH, RES_NAME, OS_TYPE
    from SDK_RESOURCE a where OS_TYPE=#osType# and not exists ( select 1 from SDK_RESOURCE where OS_TYPE=#osType# and RES_V_ID
 <![CDATA[ >
  ]]>
  a.RES_V_ID and RES_NAME =a.RES_NAME
 <isNotNull prepend="and" property="sdkOldId">
  RES_V_ID
 <![CDATA[ >
  ]]>
  #sdkOldId:INTEGER#
  </isNotNull>
 <isNotNull prepend="and" property="sdkId">
  RES_V_ID
 <![CDATA[ <=
  ]]>
  #sdkId:INTEGER#
  </isNotNull>
  )
 <isNotNull prepend="and" property="sdkOldId">
  RES_V_ID
 <![CDATA[ >
  ]]>
  #sdkOldId:INTEGER#
  </isNotNull>
 <isNotNull prepend="and" property="sdkId">
  RES_V_ID
 <![CDATA[ <=
  ]]>
  #sdkId:INTEGER#
  </isNotNull>
  </select>

  <select id="ibatorgenerated_selectNewVersion" resultMap="ibatorgenerated_BaseResultMap" parameterClass="java.lang.String" >
    <!--
      WARNING - This element is automatically generated by Apache iBATIS ibator, do not modify.
      This element was generated on Fri Mar 04 17:32:10 CST 2011.
    -->
    select RES_V_ID, ADD_TIME, RES_PATH, RES_NAME, OS_TYPE
    from SDK_RESOURCE where OS_TYPE =#osTypes# order by RES_V_ID desc
    limit 1
  </select>

  <select id="ibatorgenerated_selectByPrimaryKey" resultMap="ibatorgenerated_BaseResultMap" parameterClass="com.mitian.airad.model.SdkResource" >
    <!--
      WARNING - This element is automatically generated by Apache iBATIS ibator, do not modify.
      This element was generated on Fri Mar 04 17:32:10 CST 2011.
    -->
    select RES_V_ID, ADD_TIME, RES_PATH, RES_NAME, OS_TYPE
    from SDK_RESOURCE
    where RES_V_ID = #resVId:INTEGER#
  </select>
  <delete id="ibatorgenerated_deleteByPrimaryKey" parameterClass="com.mitian.airad.model.SdkResource" >
    <!--
      WARNING - This element is automatically generated by Apache iBATIS ibator, do not modify.
      This element was generated on Fri Mar 04 17:32:10 CST 2011.
    -->
    delete from SDK_RESOURCE
    where RES_V_ID = #resVId:INTEGER#
  </delete>
  <insert id="ibatorgenerated_insert" parameterClass="com.mitian.airad.model.SdkResource" >
    <!--
      WARNING - This element is automatically generated by Apache iBATIS ibator, do not modify.
      This element was generated on Fri Mar 04 17:32:10 CST 2011.
    -->
    insert into SDK_RESOURCE (RES_V_ID, ADD_TIME, RES_PATH, RES_NAME, OS_TYPE)
    values (#resVId:INTEGER#, #addTime:TIMESTAMP#, #resPath:VARCHAR#, #resName:VARCHAR#,
      #osType:CHAR#)
  </insert>
  <insert id="ibatorgenerated_insertSelective" parameterClass="com.mitian.airad.model.SdkResource" >
    <!--
      WARNING - This element is automatically generated by Apache iBATIS ibator, do not modify.
      This element was generated on Fri Mar 04 17:32:10 CST 2011.
    -->
    insert into SDK_RESOURCE
    <dynamic prepend="(" >
      <isNotNull prepend="," property="resVId" >
        RES_V_ID
      </isNotNull>
      <isNotNull prepend="," property="addTime" >
        ADD_TIME
      </isNotNull>
      <isNotNull prepend="," property="resPath" >
        RES_PATH
      </isNotNull>
      <isNotNull prepend="," property="resName" >
        RES_NAME
      </isNotNull>
      <isNotNull prepend="," property="osType" >
        OS_TYPE
      </isNotNull>
      )
    </dynamic>
    values
    <dynamic prepend="(" >
      <isNotNull prepend="," property="resVId" >
        #resVId:INTEGER#
      </isNotNull>
      <isNotNull prepend="," property="addTime" >
        #addTime:TIMESTAMP#
      </isNotNull>
      <isNotNull prepend="," property="resPath" >
        #resPath:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="resName" >
        #resName:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="osType" >
        #osType:CHAR#
      </isNotNull>
      )
    </dynamic>
  </insert>
  <update id="ibatorgenerated_updateByPrimaryKeySelective" parameterClass="com.mitian.airad.model.SdkResource" >
    <!--
      WARNING - This element is automatically generated by Apache iBATIS ibator, do not modify.
      This element was generated on Fri Mar 04 17:32:10 CST 2011.
    -->
    update SDK_RESOURCE
    <dynamic prepend="set" >
      <isNotNull prepend="," property="addTime" >
        ADD_TIME = #addTime:TIMESTAMP#
      </isNotNull>
      <isNotNull prepend="," property="resPath" >
        RES_PATH = #resPath:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="resName" >
        RES_NAME = #resName:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="osType" >
        OS_TYPE = #osType:CHAR#
      </isNotNull>
    </dynamic>
    where RES_V_ID = #resVId:INTEGER#
  </update>
  <update id="ibatorgenerated_updateByPrimaryKey" parameterClass="com.mitian.airad.model.SdkResource" >
    <!--
      WARNING - This element is automatically generated by Apache iBATIS ibator, do not modify.
      This element was generated on Fri Mar 04 17:32:10 CST 2011.
    -->
    update SDK_RESOURCE
    set ADD_TIME = #addTime:TIMESTAMP#,
      RES_PATH = #resPath:VARCHAR#,
      RES_NAME = #resName:VARCHAR#,
      OS_TYPE = #osType:CHAR#
    where RES_V_ID = #resVId:INTEGER#
  </update>
</sqlMap>
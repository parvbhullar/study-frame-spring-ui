(function(a,b){function w(b,c){return b===c||a.contains(b,c)}var c=window.kendo,d=c.ui,e=c.support.touch,f="open",g="close",h="center",i="left",j="right",k="top",l="bottom",m="absolute",n="hidden",o="body",p="t-state-active",q=".t-dropdown-wrap, .t-link",r=e?"touchstart":"mousedown",s=a.extend,t=a.proxy,u=d.Component,v=/4_1\slike\sMac\sOS\sX;.*Mobile\/\S+/.test(navigator.userAgent),x=u.extend({init:function(b,c){var d=this;u.fn.init.call(d,b,c),c=d.options,d.collisions=d.options.collision.split(" "),d.collisions.length===1&&d.collisions.push(d.collisions[0]),d.element.hide().addClass("t-popup t-group t-reset").css({position:m}).appendTo(a(c.appendTo)),d.wrapper=a(),c.animation===!1&&(c.animation={open:{show:!0,effects:{}},close:{hide:!0,effects:{}}}),"effects"in c.animation.close||(c.animation.close=s({reverse:!0},c.animation.open,c.animation.close)),s(c.animation.open,{complete:function(){d.wrapper.css({overflow:"visible"}).css("overflow")}}),s(c.animation.close,{complete:function(){d.element.hide(),d.wrapper.hide();var a=d.wrapper.data("location");a&&d.wrapper.css(a),d._closing=!1}}),d.bind([f,g],c),a(document.documentElement).bind(r,t(d._mousedown,d)),a(window).bind("resize",function(){d.wrapper.removeData("position").removeData("location"),d.wrapper.is(":visible")&&d._update()}),c.toggleTarget&&a(c.toggleTarget).bind(c.toggleEvent,t(d.toggle,d))},options:{toggleEvent:"click",origin:l+" "+i,position:k+" "+i,anchor:o,appendTo:o,collision:"flip fit",animation:{open:{effects:"slideIn:down",duration:200,show:!0},close:{duration:100,show:!1,hide:!0}}},open:function(){var a=this,b=a.options;if(!a.visible()){if(a.element.data("animating")||a.trigger(f))return;a.wrapper=c.wrap(a.element).css({overflow:n,display:"block",position:m}),b.appendTo==o&&a.wrapper.css("top","-10000px");var d=s({},b.animation.open);a._update()&&(d.effects=c.parseEffects(d.effects,!0)),a.element.data("effects",d.effects),a.element.kendoStop(!0).kendoAnimate(d),b.anchor!=o&&b.anchor.children(q).addClass(p)}},toggle:function(){var a=this;a[a.visible()?g:f]()},visible:function(){return this.element.is(":visible")},close:function(){var a=this,b=a.options;if(a.visible()){if(a._closing||a.trigger(g))return;var d=s({},b.animation.close),e=a.element.data("effects");a.wrapper=c.wrap(a.element).css({overflow:n}),e&&(d.effects=e),a._closing=!0,a.element.kendoStop(!0).kendoAnimate(d),b.anchor!=o&&b.anchor.children(q).removeClass(p)}},_mousedown:function(b){var c=this,d=c.element[0],e=c.options,f=a(e.anchor)[0],g=e.toggleTarget,h=b.target;!w(d,h)&&!w(f,h)&&(!g||!w(a(g)[0],h))&&c.close()},_update:function(){return this._position(a(window))},_fit:function(a,b,c){var d=0;a+b>c&&(d=c-(a+b)),a<0&&(d=a);return d},_flip:function(a,b,c,d,e,f,g){var i=0;g=g||b,f!==e&&f!==h&&e!==h&&(a+g>d&&(i+=-(c+b)),a+i<0&&(i+=c+b));return i},_position:function(b){var d=this,e=d.element,f=d.wrapper,g=d.options,h=a(g.anchor),i=g.origin.toLowerCase().split(" "),j=g.position.toLowerCase().split(" "),k=d.collisions,l=!1;g.appendTo===x.fn.options.appendTo&&(f.css(d._align(i,j)),l=!0);var m=f.data("position"),n=f.data("offset"),o=c.support.touch?document.documentElement.clientWidth/window.innerWidth:1;m||(m=f.position(),n=f.offset(),f.data("position",m).data("offset",s({},n)));var p=h.offsetParent().parent(".t-animation-container");p.length&&p.data("fitted")&&(m=f.position(),n=f.offset()),d.wrapper.data("location")||f.data("location",s({},m)),n={top:n.top-(window.pageYOffset||document.documentElement.scrollTop||0),left:n.left-(window.pageXOffset||document.documentElement.scrollLeft||0)},!l&&c.support.touch&&!document.body.scrollLeft&&!v&&(n={top:n.top-window.pageYOffset,left:n.left-window.pageXOffset});var q=s({},n),r=s({},m);k[0]==="fit"&&(r.top+=d._fit(q.top,f.outerHeight(),b.height()/o)),k[1]==="fit"&&(r.left+=d._fit(q.left,f.outerWidth(),b.width()/o)),r.left!=m.left||r.top!=m.top?f.data("fitted",!0):f.removeData("fitted");var t=s({},r);k[0]==="flip"&&(r.top+=d._flip(q.top,e.outerHeight(),h.outerHeight(),b.height()/o,i[0],j[0],f.outerHeight())),k[1]==="flip"&&(r.left+=d._flip(q.left,e.outerWidth(),h.outerWidth(),b.width()/o,i[1],j[1],f.outerWidth())),f.css(r);return r.left!=t.left||r.top!=t.top},_align:function(b,c){var d=this,e=d.wrapper,f=a(d.options.anchor),g=b[0],i=b[1],k=c[0],m=c[1],n=f.offset(),o=e.outerWidth(),p=e.outerHeight(),q=f.outerWidth(),r=f.outerHeight(),s=n.top,t=n.left,u=Math.round;g===l&&(s+=r),g===h&&(s+=u(r/2)),k===l&&(s-=p),k===h&&(s-=u(p/2)),i===j&&(t+=q),i===h&&(t+=u(q/2)),m===j&&(t-=o),m===h&&(t-=u(o/2));return{top:s,left:t}}});d.plugin("Popup",x)})(jQuery)
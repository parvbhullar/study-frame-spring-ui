(function(a,b){function o(b,c){return b===c||a.contains(b,c)}var c=window.kendo,d=c.ui,e=d.Component,f="id",g="li",h="change",i="character",j="t-state-focused",k="t-state-hover",l="t-loading",m="select",n=a.proxy,p=e.extend({init:function(b,c){var d=this;e.fn.init.call(d,b,c),d._template(),d.ul=a('<ul class="t-list"/>').attr(f,d.element.attr(f)+"-list").css("overflow","auto").mousedown(function(){setTimeout(function(){clearTimeout(d._bluring)},0)}).delegate(g,"click",n(d._click,d)).delegate(g,"mouseenter",function(){a(this).addClass(k)}).delegate(g,"mouseleave",function(){a(this).removeClass(k)}),a(document.documentElement).bind("mousedown",n(d._mousedown,d))},current:function(a){var c=this;if(a!==b)c._current&&c._current.removeClass(j),a?(a.addClass(j),c._scroll(a[0])):c._selected=a,c._current=a;else return c._current},_accessors:function(){var a=this,b=a.element,d=a.options,e=c.getter,f=b.attr("data-text-field"),g=b.attr("data-value-field");f&&(d.dataTextField=f),g&&(d.dataValueField=g),a._text=e(d.dataTextField),a._value=e(d.dataValueField)},_blur:function(){var a=this;a._change(),a.close()},_change:function(){var a=this,b=a.value();b!==a.previous&&(a.trigger(h),a.element.trigger(h),a.previous=b)},_click:function(b){this._accept(a(b.currentTarget))},_focus:function(a){var b=this;b.select(a),b._blur(),b._focused[0]!==document.activeElement&&b._focused.focus()},_height:function(a){if(a){var b=this,c=b.ul,d=c.parent(".t-animation-container"),e=b.options.height;b.popup.visible()?(c.height(c[0].scrollHeight>e?e:"auto"),d.height(e)):(c.show().height(c[0].scrollHeight>e?e:"auto").hide(),d.show().height(e).hide())}},_popup:function(){var b=this,c=b.ul,e="auto",f,g=b.options,h=b.wrapper;h.parents().andSelf().each(function(){e=a(this).css("zIndex");if(!isNaN(e)){e=Number(e)+1;return!1}}),b.popup=new d.Popup(c,{anchor:h,open:g.open,close:g.close}),f=(parseInt(c.css("border-left-width"),10)||0)+(parseInt(c.css("border-right-width"),10)||0),c.css({width:h.outerWidth()-f,zIndex:e})},_scroll:function(a){if(!!a){var b=this.ul[0],c=a.offsetTop,d=a.offsetHeight,e=b.scrollTop,f=b.clientHeight,g=c+d;b.scrollTop=e>c?c:g>e+f?g-f:e}},_template:function(){var a=this,b=a.options,d=b.template,e=b.dataTextField||"data";d?(d=c.template(d),a.template=function(a){return"<li class='t-item' unselectable='on'>"+d(a)+"</li>"}):a.template=c.template("<li class='t-item' unselectable='on'>${"+e+"}</li>")}});a.extend(p,{caret:function(a){var b,c=a.ownerDocument.selection;c?b=Math.abs(c.createRange().moveStart(i,-a.value.length)):b=a.selectionStart;return b},selectText:function(a,b,c){a.createTextRange?(textRange=a.createTextRange(),textRange.collapse(!0),textRange.moveStart(i,b),textRange.moveEnd(i,c-b),textRange.select()):a.setSelectionRange(b,c)}}),c.ui.List=p,d.Select=p.extend({init:function(a,b){p.fn.init.call(this,a,b)},close:function(){this.popup.close()},hideBusy:function(){var a=this;clearTimeout(a._busy),a.arrow.removeClass(l)},showBusy:function(){var a=this;a._busy=setTimeout(n(function(){a.arrow.addClass(l)},this),100)},_dataSource:function(){var b=this,d,e=b.element,f=b.options,g=f.dataSource||{};g=a.isArray(g)?{data:g}:g,b.element.is(m)&&(d=e.children(":selected"),d[0]&&(f.index=d.index()),g.select=e,g.fields=[{field:f.dataTextField},{field:f.dataValueField}]),b.dataSource=c.data.DataSource.create(g).bind(h,n(b.refresh,b))},_move:function(a){a[0]&&this.select(a)},_options:function(a){var c=this,d=c.element,e=c.value(),f=a.length,g=[],h,i,j,k,l;for(l=0;l<f;l++)h="<option",i=a[l],j=c._text(i),k=c._value(i),k!==b&&(h+=' value="'+k+'"'),h+=">",j!==b&&(h+=j),h+="</option>",g.push(h);d.html(g.join("")),d.val(e)}})})(jQuery)
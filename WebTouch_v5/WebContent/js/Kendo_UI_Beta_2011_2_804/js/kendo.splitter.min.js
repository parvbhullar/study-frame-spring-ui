(function(a,b,c){function A(b){var c=this;c.owner=b,c._element=c.owner.element,c.orientation=c.owner.orientation,a.extend(c,c.orientation===o?z:y),c._resizable=new d.ui.Resizable(b.element,{orientation:c.orientation,handle:c.orientation==o?".t-splitbar-draggable-horizontal":".t-splitbar-draggable-vertical",hint:a.proxy(c._createHint,c),start:a.proxy(c._start,c),max:a.proxy(c._max,c),min:a.proxy(c._min,c),invalidClass:"t-restricted-size-"+c.orientation,resizeend:a.proxy(c._stop,c)})}function w(b,c){return function(d,e){var f=a(d).data("pane");if(arguments.length==1)return f[b];f[b]=e;if(c){var g=this.element.data("kendoSplitter");g.trigger(n)}}}function v(a){return!t(a)&&!u(a)}function u(a){return i.test(a)}function t(a){return j.test(a)}var d=b.kendo,e=d.ui,f=a.extend,g=e.Component,h=7,i=/^\d+px$/i,j=/^\d+(\.\d+)?%$/i,k="expand",l="collapse",m="contentLoad",n="resize",o="horizontal",p="vertical",q="mouseenter",r="click",s="mouseleave",x=g.extend({init:function(b,c){var d=this,e,f,h=".t-splitbar .t-icon:not(.t-resize-handle)";g.fn.init.call(d,b,c),d.orientation=d.options.orientation.toLowerCase()!=p?o:p,f=".t-splitbar-draggable-"+d.orientation,d.ajaxOptions=d.options.ajaxOptions||d.ajaxOptions,d.bind([k,l,m,n],d.options),d.bind(n,a.proxy(d._resize,d)),d._initPanes(),d.element.delegate(f,q,function(){a(this).addClass("t-splitbar-"+d.orientation+"-hover")}).delegate(f,s,function(){a(this).removeClass("t-splitbar-"+d.orientation+"-hover")}).delegate(h,q,function(){a(this).addClass("t-state-hover")}).delegate(h,s,function(){a(this).removeClass("t-state-hover")}).delegate(".t-splitbar .t-collapse-next, .t-splitbar .t-collapse-prev",r,d._arrowClick(l)).delegate(".t-splitbar .t-expand-next, .t-splitbar .t-expand-prev",r,d._arrowClick(k)).delegate(".t-splitbar","dblclick",a.proxy(d._dbclick,d)).parent().closest(".t-splitter").each(function(){a(this).data("kendoSplitter").bind(n,function(){d.trigger(n)})}),d.resizing=new A(d)},options:{orientation:o},_initPanes:function(){var b=this,c=b.options.panes||[];b.element.addClass("t-widget").addClass("t-splitter").children().addClass("t-pane").each(function(d,e){var f=a(e),g=c&&c[d];f.data("pane",g?g:{}).toggleClass("t-scrollable",g?g.scrollable!==!1:!0),b.ajaxRequest(f)}).end(),b.trigger(n)},ajaxOptions:function(b,c){var d=this;return a.extend({type:"GET",dataType:"html",success:function(a){b.html(a),d.trigger(m,{pane:b[0]})}},c)},ajaxRequest:function(b,c){var d=a(b),e=d.data("pane");if(c||e.contentUrl)d.append("<span class='t-icon t-loading t-pane-loading' />"),a.ajax(this.ajaxOptions(d,{url:c||e.contentUrl}))},_triggerAction:function(a,b){this.trigger(a,{pane:b[0]})||this[a](b[0])},_dbclick:function(b){var c=this,d=a(b.target),e;if(d.closest(".t-splitter")[0]==c.element[0]){e=d.children(".t-icon:not(.t-resize-handle)");if(e.length!==1)return;e.is(".t-collapse-prev")?c._triggerAction(l,d.prev()):e.is(".t-collapse-next")?c._triggerAction(l,d.next()):e.is(".t-expand-prev")?c._triggerAction(k,d.prev()):e.is(".t-expand-next")&&c._triggerAction(k,d.next())}},_arrowClick:function(b){var c=this;return function(d){var e=a(d.target),f;e.closest(".t-splitter")[0]==c.element[0]&&(e.is(".t-"+b+"-prev")?f=e.parent().prev():f=e.parent().next(),c._triggerAction(b,f))}},_appendSplitBars:function(a){var b=a.length-1,c,d,e,f,g,h=function(a,b){return b?"<div class='t-icon "+a+"' />":""};for(f=0;f<b;f++){c=a.eq(f),d=c.data("pane"),e=c.next().data("pane");if(!e)continue;g=d.resizable!==!1&&e.resizable!==!1,c.after("<div class='t-splitbar t-state-default t-splitbar-"+this.orientation+(g&&!d.collapsed&&!e.collapsed?" t-splitbar-draggable-"+this.orientation:"")+"'>"+h("t-collapse-prev",d.collapsible&&!d.collapsed)+h("t-expand-prev",d.collapsible&&d.collapsed)+h("t-resize-handle",g)+h("t-collapse-next",e.collapsible&&!e.collapsed)+h("t-expand-next",e.collapsible&&e.collapsed)+"</div>")}},_resize:function(){var b=this,c=b.element,d=c.children(":not(.t-splitbar)"),e=b.orientation==o,f=c.children(".t-splitbar").length,g=e?"width":"height",i=c[g]();f===0&&(f=d.length-1,b._appendSplitBars(d)),i-=h*f;var j=0,k=0,l=a();d.css({position:"absolute",top:0})[g](function(){var b=a(this).data("pane"),c;if(b.collapsed)c=0;else{if(v(b.size)){l=l.add(this);return}c=parseInt(b.size,10),t(b.size)&&(c=Math.floor(c*i/100))}k++,j+=c;return c}),i-=j;var m=l.length,n=Math.floor(i/m);l.slice(0,m-1).css(g,n).end().eq(m-1).css(g,i-(m-1)*n);var p=0,q=e?"height":"width",r=e?"left":"top",s=e?"offsetWidth":"offsetHeight";c.children().css(q,c[q]()).each(function(a,b){b.style[r]=Math.floor(p)+"px",p+=b[s]})},toggle:function(b,d){var b=a(b),e=b.prev(".t-splitbar"),f=b.next(".t-splitbar"),g=e.add(f),h=b.data("pane");arguments.length==1&&(d=h.collapsed===c?!1:h.collapsed),g.toggleClass("t-splitbar-draggable-"+this.orientation,d).removeClass("t-splitbar-"+this.orientation+"-hover"),e.find(d?".t-expand-next":".t-collapse-next").toggleClass("t-expand-next",!d).toggleClass("t-collapse-next",d),f.find(d?".t-expand-prev":".t-collapse-prev").toggleClass("t-expand-prev",!d).toggleClass("t-collapse-prev",d),h.collapsed=!d,this.trigger(n)},collapse:function(a){this.toggle(a,!1)},expand:function(a){this.toggle(a,!0)},size:w("size",!0),min:w("min"),max:w("max")});e.plugin("Splitter",x);var y={sizingProperty:"height",sizingDomProperty:"offsetHeight",alternateSizingProperty:"width",positioningProperty:"top",mousePositioningProperty:"pageY"},z={sizingProperty:"width",sizingDomProperty:"offsetWidth",alternateSizingProperty:"height",positioningProperty:"left",mousePositioningProperty:"pageX"};A.prototype={_createHint:function(b){var c=this;return a("<div class='t-ghost-splitbar t-ghost-splitbar-"+c.orientation+" t-state-default' />").css(c.alternateSizingProperty,b[c.alternateSizingProperty]())},_start:function(b){var c=this,d=a(b.currentTarget),e=d.prev(),f=d.next(),g=e.data("pane"),i=f.data("pane"),j=parseInt(e[0].style[c.positioningProperty]),k=parseInt(f[0].style[c.positioningProperty])+f[0][c.sizingDomProperty]-h,l=c._element.css(c.sizingProperty),m=function(a){var b=parseInt(a,10);return(u(a)?b:l*b/100)||0},n=m(g.min),o=m(g.max)||k-j,p=m(i.min),q=m(i.max)||k-j;c.previousPane=e,c.nextPane=f,c._maxPosition=Math.min(k-p,j+o),c._minPosition=Math.max(j+n,k-q)},_max:function(a){return this._maxPosition},_min:function(a){return this._minPosition},_stop:function(b){var c=this;if(b.keyCode!==27){var d=b.position,e=a(b.currentTarget),f=e.prev(),g=e.next(),i=f.data("pane"),j=g.data("pane"),k=d-parseInt(f[0].style[c.positioningProperty]),l=parseInt(g[0].style[c.positioningProperty])+g[0][c.sizingDomProperty]-d-h,m=c._element[c.sizingProperty]();m-=h*(c._element.children(".t-splitbar").length+1);var o=c._element.children(".t-pane").filter(function(){return v(a(this).data("pane").size)}).length;if(!v(i.size)||o>1)v(i.size)&&o--,i.size=k+"px";if(!v(j.size)||o>1)j.size=l+"px"}b.keyCode!==27&&c.owner.trigger(n);return!1}}})(jQuery,window)
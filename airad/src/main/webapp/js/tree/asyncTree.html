<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<title>SimpleTree Drag&Drop</title>
<link href="tree.css"  type="text/css" rel="stylesheet"/>
<script type="text/javascript" src="js/jquery.js"></script>
<script type="text/javascript" src="js/jquery.simple.tree.self.js"></script>
<script type="text/javascript">
var simpleTreeCollection;
//只要叶子是colse状态 就会发出异步请求,传递node.id到后台
$(document).ready(function(){
	simpleTreeCollection = $('.simpleTree').simpleTree({
		url:'asynctree.json',
		dataType:'json',
		autoclose: true,
		animate:true,
		afterClick:function(node){
			alert(node.id+"---"+node.text);
			if(node.attributes){
				alert(node.attributes.p1+"--"+node.attributes.p2);
			}
		},
		afterDblClick:function(node){
			//alert("text-"+$('span:first',node).text());
		},
		afterMove:function(destination, source, pos){
			//alert("destination-"+destination.attr('id')+" source-"+source.attr('id')+" pos-"+pos);
		},
		afterAjax:function()
		{
			//alert('Loaded');
		}
	});
	
});
</script>
</head>

<body>
<div >
	<ul id="tree" class="simpleTree">
	</ul>
</div>


</body>

</html>

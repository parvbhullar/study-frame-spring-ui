<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE sqlMap PUBLIC "-//ibatis.apache.org//DTD SQL Map 2.0//EN" "http://ibatis.apache.org/dtd/sql-map-2.dtd" >
<sqlMap namespace="REQ_APP_ONLINE_TIME" >
  <resultMap id="ibatorgenerated_BaseResultMap" class="com.mitian.airad.model.ReqAppOnlineTime" >
    <!--
      WARNING - This element is automatically generated by Apache iBATIS ibator, do not modify.
      This element was generated on Tue Mar 01 16:26:22 CST 2011.
    -->
    <result column="APP_ONLINE_ID" property="appOnlineId" jdbcType="INTEGER" />
    <result column="APP_START_TIME" property="appStartTime" jdbcType="TIMESTAMP" />
    <result column="APP_END_TIME" property="appEndTime" jdbcType="TIMESTAMP" />
    <result column="SOLE_ID" property="soleId" jdbcType="VARCHAR" />
    <result column="APP_CODE" property="appCode" jdbcType="VARCHAR" />
    <result column="STATE" property="state" jdbcType="CHAR" />
    <result column="OS_TYPE" property="osType" jdbcType="CHAR" />
	<result column="APP_ONLINE_IP" property="appOnlineIp" jdbcType="VARCHAR" />
	<result column="APP_ONLINE_USER_AGENT" property="appOnlineUserAgent" jdbcType="VARCHAR" />
	<result column="DEVICE_SCREEN_WIDTH" property="deviceScreenWidth" jdbcType="CHAR" />
	<result column="DEVICE_SCREEN_HEIGHT" property="deviceScreenHeight" jdbcType="CHAR" />
  </resultMap>
  
  <!-- 根据appCode和APP_START_TIME查询 -->
    <select id="selectByAppCodeAndAppStartTime" resultMap="ibatorgenerated_BaseResultMap" parameterClass="java.util.Map" >
     select APP_ONLINE_ID, APP_START_TIME, APP_END_TIME, SOLE_ID, APP_CODE, STATE, OS_TYPE,APP_ONLINE_IP,APP_ONLINE_USER_AGENT,
	 DEVICE_SCREEN_WIDTH, DEVICE_SCREEN_HEIGHT
    from REQ_APP_ONLINE_TIME
    <dynamic prepend="where" >
      <isNotNull prepend="and" property="appCode" >
      APP_CODE=#appCode#
      </isNotNull>
      <isNotNull prepend="and" property="reqTime" >
      APP_START_TIME like '$reqTime$%'
      </isNotNull>
      </dynamic>
  </select>

   <!-- 根据条件查询 -->
    <select id="selectByAppCodeAndSoleId" resultMap="ibatorgenerated_BaseResultMap" parameterClass="com.mitian.airad.model.ReqAppOnlineTime" >
     select MAX(APP_ONLINE_ID) AS APP_ONLINE_ID, APP_START_TIME, APP_END_TIME, SOLE_ID, APP_CODE, STATE, OS_TYPE,APP_ONLINE_IP,APP_ONLINE_USER_AGENT,
	  DEVICE_SCREEN_WIDTH, DEVICE_SCREEN_HEIGHT
    from REQ_APP_ONLINE_TIME
     where  SOLE_ID=#soleId# and APP_CODE=#appCode# 
  </select>
  <select id="ibatorgenerated_selectByPrimaryKey" resultMap="ibatorgenerated_BaseResultMap" parameterClass="com.mitian.airad.model.ReqAppOnlineTime" >
    <!--
      WARNING - This element is automatically generated by Apache iBATIS ibator, do not modify.
      This element was generated on Tue Mar 01 16:26:22 CST 2011.
    -->
    select APP_ONLINE_ID, APP_START_TIME, APP_END_TIME, SOLE_ID, APP_CODE, STATE, OS_TYPE,APP_ONLINE_IP,APP_ONLINE_USER_AGENT,
	 DEVICE_SCREEN_WIDTH, DEVICE_SCREEN_HEIGHT
    from REQ_APP_ONLINE_TIME
    where APP_ONLINE_ID = #appOnlineId:INTEGER#
  </select>
  <delete id="ibatorgenerated_deleteByPrimaryKey" parameterClass="com.mitian.airad.model.ReqAppOnlineTime" >
    <!--
      WARNING - This element is automatically generated by Apache iBATIS ibator, do not modify.
      This element was generated on Tue Mar 01 16:26:22 CST 2011.
    -->
    delete from REQ_APP_ONLINE_TIME
    where APP_ONLINE_ID = #appOnlineId:INTEGER#
  </delete>
  <insert id="ibatorgenerated_insert" parameterClass="com.mitian.airad.model.ReqAppOnlineTime" >
    <!--
      WARNING - This element is automatically generated by Apache iBATIS ibator, do not modify.
      This element was generated on Tue Mar 01 16:26:22 CST 2011.
    -->
    insert into REQ_APP_ONLINE_TIME (APP_ONLINE_ID, APP_START_TIME, APP_END_TIME, SOLE_ID, APP_CODE,
      STATE, OS_TYPE,APP_ONLINE_IP,APP_ONLINE_USER_AGENT, DEVICE_SCREEN_WIDTH, DEVICE_SCREEN_HEIGHT)
    values (#appOnlineId:INTEGER#, #appStartTime:TIMESTAMP#, #appEndTime:TIMESTAMP#,
      #soleId:VARCHAR#, #appCode:VARCHAR#, #state:CHAR#, #osType:CHAR#,#appOnlineIp:VARCHAR#,#appOnlineUserAgent:VARCHAR#,
	   #deviceScreenWidth:CHAR#, #deviceScreenHeight:CHAR#)
  </insert>
  <insert id="ibatorgenerated_insertSelective" parameterClass="com.mitian.airad.model.ReqAppOnlineTime" >
    <!--
      WARNING - This element is automatically generated by Apache iBATIS ibator, do not modify.
      This element was generated on Tue Mar 01 16:26:22 CST 2011.
    -->
    <!-- liyuhang modify DEVICE_SCREEN_WIDTH to deviceScreenWidth -->
    insert into REQ_APP_ONLINE_TIME
    <dynamic prepend="(" >
      <isNotNull prepend="," property="appOnlineId" >
        APP_ONLINE_ID
      </isNotNull>
      <isNotNull prepend="," property="appStartTime" >
        APP_START_TIME
      </isNotNull>
      <isNotNull prepend="," property="appEndTime" >
        APP_END_TIME
      </isNotNull>
      <isNotNull prepend="," property="soleId" >
        SOLE_ID
      </isNotNull>
      <isNotNull prepend="," property="appCode" >
        APP_CODE
      </isNotNull>
      <isNotNull prepend="," property="state" >
        STATE
      </isNotNull>
      <isNotNull prepend="," property="osType" >
        OS_TYPE
      </isNotNull>
	  <isNotNull prepend="," property="appOnlineIp" >
        APP_ONLINE_IP
      </isNotNull>
	  <isNotNull prepend="," property="appOnlineUserAgent" >
        APP_ONLINE_USER_AGENT
      </isNotNull>
	   <isNotNull prepend="," property="deviceScreenWidth" >
        DEVICE_SCREEN_WIDTH
      </isNotNull>
	   <isNotNull prepend="," property="deviceScreenHeight" >
        DEVICE_SCREEN_HEIGHT
      </isNotNull>
      )
    </dynamic>
    values
    <dynamic prepend="(" >
      <isNotNull prepend="," property="appOnlineId" >
        #appOnlineId:INTEGER#
      </isNotNull>
      <isNotNull prepend="," property="appStartTime" >
        #appStartTime:TIMESTAMP#
      </isNotNull>
      <isNotNull prepend="," property="appEndTime" >
        #appEndTime:TIMESTAMP#
      </isNotNull>
      <isNotNull prepend="," property="soleId" >
        #soleId:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="appCode" >
        #appCode:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="state" >
        #state:CHAR#
      </isNotNull>
      <isNotNull prepend="," property="osType" >
        #osType:CHAR#
      </isNotNull>
	   <isNotNull prepend="," property="appOnlineIp" >
        #appOnlineIp:VATCHAR#
      </isNotNull>
	  <isNotNull prepend="," property="appOnlineUserAgent" >
        #appOnlineUserAgent:VARCHAR#
      </isNotNull>
	  <isNotNull prepend="," property="deviceScreenWidth" >
        DEVICE_SCREEN_WIDTH = #deviceScreenWidth:CHAR#
      </isNotNull>
	   <isNotNull prepend="," property="deviceScreenHeight" >
        DEVICE_SCREEN_HEIGHT =#deviceScreenHeight:CHAR#
      </isNotNull>
      )
    </dynamic>
  </insert>
  <update id="ibatorgenerated_updateByPrimaryKeySelective" parameterClass="com.mitian.airad.model.ReqAppOnlineTime" >
    <!--
      WARNING - This element is automatically generated by Apache iBATIS ibator, do not modify.
      This element was generated on Tue Mar 01 16:26:22 CST 2011.
    -->
    update REQ_APP_ONLINE_TIME
    <dynamic prepend="set" >
      <isNotNull prepend="," property="appStartTime" >
        APP_START_TIME = #appStartTime:TIMESTAMP#
      </isNotNull>
      <isNotNull prepend="," property="appEndTime" >
        APP_END_TIME = #appEndTime:TIMESTAMP#
      </isNotNull>
      <isNotNull prepend="," property="soleId" >
        SOLE_ID = #soleId:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="appCode" >
        APP_CODE = #appCode:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="state" >
        STATE = #state:CHAR#
      </isNotNull>
      <isNotNull prepend="," property="osType" >
        OS_TYPE = #osType:CHAR#
      </isNotNull>
	   <isNotNull prepend="," property="appOnlineIp" >
        APP_ONLINE_IP = #appOnlineIp:VARCHAR#
      </isNotNull>
	  <isNotNull prepend="," property="appOnlineUserAgent" >
        APP_ONLINE_USER_AGENT = #appOnlineUserAgent:VARCHAR#
      </isNotNull>
	   <isNotNull prepend="," property="deviceScreenWidth" >
        DEVICE_SCREEN_WIDTH = #deviceScreenWidth:CHAR#
      </isNotNull>
	   <isNotNull prepend="," property="deviceScreenHeight" >
        DEVICE_SCREEN_HEIGHT =#deviceScreenHeight:CHAR#
      </isNotNull>
    </dynamic>
    where APP_ONLINE_ID = #appOnlineId:INTEGER#
  </update>
  <update id="ibatorgenerated_updateByPrimaryKey" parameterClass="com.mitian.airad.model.ReqAppOnlineTime" >
    <!--
      WARNING - This element is automatically generated by Apache iBATIS ibator, do not modify.
      This element was generated on Tue Mar 01 16:26:22 CST 2011.
    -->
    update REQ_APP_ONLINE_TIME
    set APP_START_TIME = #appStartTime:TIMESTAMP#,
      APP_END_TIME = #appEndTime:TIMESTAMP#,
      SOLE_ID = #soleId:VARCHAR#,
      APP_CODE = #appCode:VARCHAR#,
      STATE = #state:CHAR#,
      OS_TYPE = #osType:CHAR#,
	  APP_ONLINE_IP = #appOnlineIp:VARCHAR#,
	  APP_ONLINE_USER_AGENT = #appOnlineUserAgent:VARCHAR#,
	  DEVICE_SCREEN_WIDTH = #deviceScreenWidth:CHAR#,
	  DEVICE_SCREEN_HEIGHT =#deviceScreenHeight:CHAR#
    where APP_ONLINE_ID = #appOnlineId:INTEGER#
  </update>
</sqlMap>
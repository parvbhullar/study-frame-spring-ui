<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE sqlMap      
    PUBLIC "-//ibatis.apache.org//DTD SQL Map 2.0//EN"      
    "http://ibatis.apache.org/dtd/sql-map-2.dtd">
<sqlMap>
	<typeAlias alias="testBean" type="com.ivyinfo.test.bean.TestBean" />
	<!-- 添加一本新书 -->
	<insert id="saveTest" parameterClass="testBean">
		<![CDATA[
			INSERT INTO test(id,title,num)
			VALUES(#id#,#title#,#num#)
		]]>
	</insert>
	
	<!-- 删除图书 -->
	<delete id="deleteTest" parameterClass="int">
		<![CDATA[
			DELETE FROM test WHERE ID=#id#
		]]>
	</delete>
	
	<!-- 查找所有的图书 -->
	<select id="findAllTest" resultClass="testBean">
		<![CDATA[
			SELECT * FROM test 
		]]>
	</select>
	<!-- 更新图书信息 -->
	<update id="updateTest" parameterClass="testBean">
		<![CDATA[
			UPDATE test SET 
			title=#title#,num=#num#
			WHERE id=#id#
		]]>
	</update>
	<!-- 查找特定图书 -->
	<select id="findTestById" parameterClass="int" resultClass="testBean">
		<![CDATA[
			SELECT * FROM test WHERE id=#id#
		]]>
	</select>
	
	<select id="findByPage" parameterClass="java.util.Map" resultClass="testBean">
		<![CDATA[
			SELECT * FROM test limit #from#,#len#
		]]>
	</select>	
	
	<select id="count" resultClass="String">
		<![CDATA[
			SELECT count(*) FROM test 
		]]>
	</select>
</sqlMap>
<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE sqlMap      
    PUBLIC "-//ibatis.apache.org//DTD SQL Map 2.0//EN"      
    "http://ibatis.apache.org/dtd/sql-map-2.dtd">
<sqlMap>
	<typeAlias alias="dto" type="org.njdt.gg.ccl.datastructure.impl.BaseDto"/>
	<typeAlias alias="userBean" type="com.ivyinfo.user.bean.UserBean" />
	
	<!-- 新增用户登陆信息 -->
	<insert id="saveUserItem" parameterClass="dto">
		<![CDATA[
			INSERT INTO t_sys_user_login(logname,nickname,password,type,state,upduserid,timestemp,dirtyflag)
			VALUES(#logname#,#nickname#,#password#,#type#,#state#,#upduserid#,#timestemp#,#dirtyflag#)
		]]>
		 <selectKey resultClass="long" keyProperty="id">  
             SELECT LAST_INSERT_ID() AS ID  
        </selectKey>
	</insert>
	
	<!-- 根据登录账户查询人员信息  -->
	<select id="validateAccount" parameterClass="dto" resultClass="dto">
		SELECT * FROM t_sys_user_login where logname = #logname# and password=#password#
	</select>
	
</sqlMap>
<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE sqlMap PUBLIC "-//ibatis.apache.org//DTD SQL Map 2.0//EN" "http://ibatis.apache.org/dtd/sql-map-2.dtd" >
<sqlMap namespace="LOG_ERROR_INFO" >
  <resultMap id="ibatorgenerated_BaseResultMap" class="com.mitian.airad.model.LogErrorInfo" >
    <!--
      WARNING - This element is automatically generated by Apache iBATIS ibator, do not modify.
      This element was generated on Wed Mar 16 16:40:52 CST 2011.
    -->
    <result column="LOG_ID" property="logId" jdbcType="INTEGER" />
    <result column="NAME" property="name" jdbcType="VARCHAR" />
    <result column="START_TIME" property="startTime" jdbcType="TIMESTAMP" />
    <result column="STATUS" property="status" jdbcType="CHAR" />
    <result column="FAIL_NUM" property="failNum" jdbcType="INTEGER" />
    <result column="END_TIME" property="endTime" jdbcType="TIMESTAMP" />
    <result column="JOB_NAME" property="jobName" jdbcType="VARCHAR" />
  </resultMap>
  <select id="ibatorgenerated_selectByPrimaryKey" resultMap="ibatorgenerated_BaseResultMap" parameterClass="com.mitian.airad.model.LogErrorInfo" >
    <!--
      WARNING - This element is automatically generated by Apache iBATIS ibator, do not modify.
      This element was generated on Wed Mar 16 16:40:52 CST 2011.
    -->
    select LOG_ID, NAME, START_TIME, STATUS, FAIL_NUM, END_TIME, JOB_NAME
    from LOG_ERROR_INFO
    where LOG_ID = #logId:INTEGER#
  </select>
  <delete id="ibatorgenerated_deleteByPrimaryKey" parameterClass="com.mitian.airad.model.LogErrorInfo" >
    <!--
      WARNING - This element is automatically generated by Apache iBATIS ibator, do not modify.
      This element was generated on Wed Mar 16 16:40:52 CST 2011.
    -->
    delete from LOG_ERROR_INFO
    where LOG_ID = #logId:INTEGER#
  </delete>
  <insert id="ibatorgenerated_insert" parameterClass="com.mitian.airad.model.LogErrorInfo" >
    <!--
      WARNING - This element is automatically generated by Apache iBATIS ibator, do not modify.
      This element was generated on Wed Mar 16 16:40:52 CST 2011.
    -->
    insert into LOG_ERROR_INFO (LOG_ID, NAME, START_TIME, STATUS, FAIL_NUM, END_TIME, JOB_NAME)
    values (#logId:INTEGER#, #name:VARCHAR#, #startTime:TIMESTAMP#, #status:CHAR#,
      #failNum:INTEGER#, #endTime:TIMESTAMP#, #jobName:VARCHAR#)
  </insert>
  <insert id="ibatorgenerated_insertSelective" parameterClass="com.mitian.airad.model.LogErrorInfo" >
    <!--
      WARNING - This element is automatically generated by Apache iBATIS ibator, do not modify.
      This element was generated on Wed Mar 16 16:40:52 CST 2011.
    -->
    insert into LOG_ERROR_INFO
    <dynamic prepend="(" >
      <isNotNull prepend="," property="logId" >
        LOG_ID
      </isNotNull>
      <isNotNull prepend="," property="name" >
        NAME
      </isNotNull>
      <isNotNull prepend="," property="startTime" >
        START_TIME
      </isNotNull>
      <isNotNull prepend="," property="status" >
        STATUS
      </isNotNull>
      <isNotNull prepend="," property="failNum" >
        FAIL_NUM
      </isNotNull>
      <isNotNull prepend="," property="endTime" >
        END_TIME
      </isNotNull>
      <isNotNull prepend="," property="jobName" >
        JOB_NAME
      </isNotNull>
      )
    </dynamic>
    values
    <dynamic prepend="(" >
      <isNotNull prepend="," property="logId" >
        #logId:INTEGER#
      </isNotNull>
      <isNotNull prepend="," property="name" >
        #name:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="startTime" >
        #startTime:TIMESTAMP#
      </isNotNull>
      <isNotNull prepend="," property="status" >
        #status:CHAR#
      </isNotNull>
      <isNotNull prepend="," property="failNum" >
        #failNum:INTEGER#
      </isNotNull>
      <isNotNull prepend="," property="endTime" >
        #endTime:TIMESTAMP#
      </isNotNull>
      <isNotNull prepend="," property="jobName" >
        #jobName:VARCHAR#
      </isNotNull>
      )
    </dynamic>
  </insert>
  <update id="ibatorgenerated_updateByPrimaryKeySelective" parameterClass="com.mitian.airad.model.LogErrorInfo" >
    <!--
      WARNING - This element is automatically generated by Apache iBATIS ibator, do not modify.
      This element was generated on Wed Mar 16 16:40:52 CST 2011.
    -->
    update LOG_ERROR_INFO
    <dynamic prepend="set" >
      <isNotNull prepend="," property="name" >
        NAME = #name:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="startTime" >
        START_TIME = #startTime:TIMESTAMP#
      </isNotNull>
      <isNotNull prepend="," property="status" >
        STATUS = #status:CHAR#
      </isNotNull>
      <isNotNull prepend="," property="failNum" >
        FAIL_NUM = #failNum:INTEGER#
      </isNotNull>
      <isNotNull prepend="," property="endTime" >
        END_TIME = #endTime:TIMESTAMP#
      </isNotNull>
      <isNotNull prepend="," property="jobName" >
        JOB_NAME = #jobName:VARCHAR#
      </isNotNull>
    </dynamic>
    where LOG_ID = #logId:INTEGER#
  </update>
  <update id="ibatorgenerated_updateByPrimaryKey" parameterClass="com.mitian.airad.model.LogErrorInfo" >
    <!--
      WARNING - This element is automatically generated by Apache iBATIS ibator, do not modify.
      This element was generated on Wed Mar 16 16:40:52 CST 2011.
    -->
    update LOG_ERROR_INFO
    set NAME = #name:VARCHAR#,
      START_TIME = #startTime:TIMESTAMP#,
      STATUS = #status:CHAR#,
      FAIL_NUM = #failNum:INTEGER#,
      END_TIME = #endTime:TIMESTAMP#,
      JOB_NAME = #jobName:VARCHAR#
    where LOG_ID = #logId:INTEGER#
  </update>
  <!-- 根据标志和JOB名称查出失败的日志记录 -->
  <select id="findByStatusJobName" resultClass="com.mitian.airad.model.LogErrorInfo" parameterClass="com.mitian.airad.model.LogErrorInfo" >

    select IFNULL(LOG_ID,'') logId, IFNULL(NAME,'') name, IFNULL(START_TIME,'') startTime,IFNULL(FAIL_NUM,'') failNum
    from LOG_ERROR_INFO
    where STATUS = #status# and JOB_NAME=#jobName#
  </select>
</sqlMap>
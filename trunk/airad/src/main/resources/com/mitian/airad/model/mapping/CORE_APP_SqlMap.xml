<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE sqlMap PUBLIC "-//ibatis.apache.org//DTD SQL Map 2.0//EN" "http://ibatis.apache.org/dtd/sql-map-2.dtd" >
<sqlMap namespace="CORE_APP" >
  <resultMap id="ibatorgenerated_BaseResultMap" class="com.mitian.airad.model.CoreApp" >
    <!--
      WARNING - This element is automatically generated by Apache iBATIS ibator, do not modify.
      This element was generated on Sat Feb 19 17:01:58 CST 2011.
    -->
    <result column="APP_ID" property="appId" jdbcType="INTEGER" />
    <result column="MEMBER_ID" property="memberId" jdbcType="LONG" />
    <result column="APP_NAME" property="appName" jdbcType="VARCHAR" />
    <result column="APP_TYPE" property="appType" jdbcType="CHAR" />
    <result column="APP_PLATFORM_TYPE" property="appPlatformType" jdbcType="CHAR" />
    <result column="USER_SEX" property="userSex" jdbcType="CHAR" />
    <result column="USER_AGE_PAG" property="userAgePag" jdbcType="CHAR" />
    <result column="DOWN_URL" property="downUrl" jdbcType="VARCHAR" />
    <result column="PUB_OUTSIDE" property="pubOutside" jdbcType="CHAR" />
    <result column="ADMOB_CODE" property="admobCode" jdbcType="VARCHAR" />
    <result column="APP_DESC" property="appDesc" jdbcType="VARCHAR" />
    <result column="APP_STATUS" property="appStatus" jdbcType="CHAR" />
    <result column="FLAG" property="flag" jdbcType="CHAR" />
    <result column="BLOCKING" property="blocking" jdbcType="CHAR" />
    <result column="ADD_OPER" property="addOper" jdbcType="VARCHAR" />
    <result column="ADD_TIME" property="addTime" jdbcType="TIMESTAMP" />
    <result column="UPD_OPER" property="updOper" jdbcType="VARCHAR" />
    <result column="UPD_TIME" property="updTime" jdbcType="TIMESTAMP" />
    <result column="DEL_OPER" property="delOper" jdbcType="VARCHAR" />
    <result column="DEL_TIME" property="delTime" jdbcType="TIMESTAMP" />
    <result column="DEL_FLAG" property="delFlag" jdbcType="CHAR" />
    <result column="APP_TYPE_MPID" property="appTypeMpid" jdbcType="CHAR" />
    <result column="APP_CODE" property="appCode" jdbcType="VARCHAR" />
  </resultMap>
  <resultMap id="ibatorgenerated_BaseResultMap_appDetial" class="com.mitian.airad.model.CoreApp" extends="ibatorgenerated_BaseResultMap">
    <result column="CLICK_NUM" property="clickNum" jdbcType="INTEGER" />
    <result column="SHOW_NUM" property="showNum" jdbcType="INTEGER" />
    <result column="OFFER" property="offer" jdbcType="DECIMAL" />
    <result column="MAX_NUM" property="maxNum" jdbcType="INTEGER" />
    <result column="CLICK_RATE" property="clickRate" jdbcType="INTEGER" />
    <result column="PUT_RATE" property="putRate" jdbcType="DECIMAL" />
  </resultMap>
  <resultMap id="ibatorgenerated_BaseResultMap_appStatistic" class="com.mitian.airad.model.CoreApp" extends="ibatorgenerated_BaseResultMap">
    <result column="APP_NAME" property="appName" jdbcType="VARCHAR" />
    <result column="APP_TYPE" property="appType" jdbcType="CHAR" />
    <result column="APP_PLATFORM_TYPE" property="appPlatformType" jdbcType="CHAR" />
    <result column="ADD_TIME" property="addTime" jdbcType="TIMESTAMP" />
    <result column="CLICK_NUM" property="clickNum" jdbcType="INTEGER" />
    <result column="SHOW_NUM" property="showNum" jdbcType="INTEGER" />
    <result column="OFFER" property="offer" jdbcType="DECIMAL" />
    <result column="MAX_NUM" property="maxNum" jdbcType="INTEGER" />
    <result column="CLICK_RATE" property="clickRate" jdbcType="DECIMAL" />
    <result column="PUT_RATE" property="putRate" jdbcType="DECIMAL" />
  </resultMap>
  <resultMap id="ibatorgenerated_BaseResultMap_appStatisticCount" class="com.mitian.airad.model.CoreApp">
    <result column="COUNT" property="count" jdbcType="INTEGER" />
    <result column="ADD_TIME" property="addTime" jdbcType="TIMESTAMP" />
  </resultMap>
   <!-- 查询（条数） -->
  <select id="findCount" resultClass="java.lang.Integer" parameterClass="java.util.HashMap">
      select count(*) from CORE_APP 
       <dynamic prepend="where">
     <isNotEmpty prepend="and" property="appName">
           APP_NAME like '%$appName$%'
     </isNotEmpty>
      <isNotEmpty prepend="and" property="memberId">
           MEMBER_ID=#memberId#
     </isNotEmpty>
     </dynamic>
 </select>
  <!-- 查询时间段所有统计分页 -->
  <select id="selectStatisticByTimeSlot" resultMap="ibatorgenerated_BaseResultMap_appStatistic" parameterClass="java.util.HashMap" >
   
      select a.APP_ID, a.MEMBER_ID, a.APP_NAME, a.APP_TYPE, a.APP_PLATFORM_TYPE, a.USER_SEX, a.USER_AGE_PAG,
      a.DOWN_URL, a.PUB_OUTSIDE, a.ADMOB_CODE, a.APP_DESC, a.APP_STATUS, a.FLAG, a.BLOCKING, a.ADD_OPER, a.ADD_TIME,
      a.UPD_OPER, a.UPD_TIME, a.DEL_OPER, a.DEL_TIME, a.DEL_FLAG, a.APP_TYPE_MPID, a.APP_CODE, 
      IFNULL(b.OFFER,0)OFFER,
      IFNULL(b.MAX_NUM,0)MAX_NUM,
      IFNULL(b.SHOW_NUM,0)SHOW_NUM,
      IFNULL(b.CLICK_NUM,0)CLICK_NUM,
      CASE WHEN IFNULL(SUM(b.AD_NUM),0)>0 
      THEN SUM(b.SHOW_NUM)/SUM(b.MAX_NUM)
      ELSE 0 END PUT_RATE,
      CASE WHEN IFNULL(SUM(b.SHOW_NUM),0)>0 
      THEN SUM(b.CLICK_NUM)/SUM(b.SHOW_NUM)
      ELSE 0 END CLICK_RATE
      from CORE_APP a left join 
      (select APP_CODE,SUM(OFFER)OFFER,SUM(MAX_NUM)MAX_NUM,SUM(SHOW_NUM)SHOW_NUM,SUM(CLICK_NUM)CLICK_NUM,SUM(AD_NUM) AD_NUM,SUM(CLICK_RATE) CLICK_RATE,ADD_TIME
      from STAT_APP where 1=1
       <isNotNull prepend="and" property="startTime">
        <![CDATA[
             ADD_TIME>=#startTime#
        ]]>
        </isNotNull>
        <isNotNull prepend="and" property="endTime">
        <![CDATA[
             ADD_TIME <= #endTime#
        ]]>
        </isNotNull>
        
        group by APP_CODE
      )b
      on a.app_code=b.app_code
     <dynamic prepend="where">
      <isNotEmpty prepend="and" property="memberId">
           a.MEMBER_ID=#memberId#
     </isNotEmpty>
     <isNotEmpty prepend="and" property="appName">
           a.APP_NAME like '%$appName$%'
     </isNotEmpty>
    </dynamic> 
    group by a.app_code
    <dynamic prepend="order by">
    <isNotEmpty property="descFlag">
           a.ADD_TIME DESC
    </isNotEmpty>
    <isEmpty property="descFlag">
           a.ADD_TIME ASC
    </isEmpty>
    </dynamic>
     <isNotEmpty property="fromRecord">
    limit $fromRecord$,$pageSize$
    </isNotEmpty>
  </select>
  
  <!-- 根据appId查询应用 -->
  <select id="selectApp" resultMap="ibatorgenerated_BaseResultMap_appStatistic" parameterClass="java.util.HashMap" >
      select a.APP_ID, a.MEMBER_ID, a.APP_NAME, a.APP_TYPE, a.APP_PLATFORM_TYPE, a.USER_SEX, a.USER_AGE_PAG,
      a.DOWN_URL, a.PUB_OUTSIDE, a.ADMOB_CODE, a.APP_DESC, a.APP_STATUS, a.FLAG, a.BLOCKING, a.ADD_OPER, a.ADD_TIME,
      a.UPD_OPER, a.UPD_TIME, a.DEL_OPER, a.DEL_TIME, a.DEL_FLAG, a.APP_TYPE_MPID, a.APP_CODE, 
      IFNULL(SUM(b.OFFER),0)OFFER,
      IFNULL(SUM(b.MAX_NUM),0)MAX_NUM,
      IFNULL(SUM(b.SHOW_NUM),0)SHOW_NUM,
      IFNULL(SUM(b.CLICK_NUM),0)CLICK_NUM,
      CASE WHEN IFNULL(SUM(b.AD_NUM),0)>0 
      THEN SUM(b.SHOW_NUM)/SUM(b.MAX_NUM)
      ELSE 0 END PUT_RATE,
      CASE WHEN IFNULL(SUM(b.SHOW_NUM),0)>0 
      THEN SUM(b.CLICK_NUM)/SUM(b.SHOW_NUM)
      ELSE 0 END CLICK_RATE
      from 
      CORE_APP a left join STAT_APP b on a.app_code=b.app_code
     <dynamic prepend="where">
     <isNotEmpty prepend="and" property="appId">
           a.APP_ID =#appId#
     </isNotEmpty>
    </dynamic> 
    group by a.app_code
  </select>
  
  <!-- 统计每天的应用增加量 -->
  <select id="selectStatisticCount" resultMap="ibatorgenerated_BaseResultMap_appStatisticCount" parameterClass="java.util.HashMap" >
      select count(*) as count,date_format(ADD_TIME,'%Y-%m-%d') as ADD_TIME from STAT_APP 
      <isNotNull prepend="where" property="startTime">
        <![CDATA[
             date_format(ADD_TIME,'%Y-%m-%d')>=#startTime#
        ]]>
      </isNotNull>
     <isNotNull prepend="and" property="endTime">
        <![CDATA[
             date_format(ADD_TIME,'%Y-%m-%d')<= #endTime#
        ]]>
     </isNotNull>
     group by date_format(add_time,'%Y-%m-%d')
  </select>
  <!-- 查询所有统计分页 -->
  <select id="selectStatistic" resultMap="ibatorgenerated_BaseResultMap_appStatistic" parameterClass="java.util.HashMap" >
   
      select a.APP_ID, a.MEMBER_ID, a.APP_NAME, a.APP_TYPE, a.APP_PLATFORM_TYPE, a.USER_SEX, a.USER_AGE_PAG,
      a.DOWN_URL, a.PUB_OUTSIDE, a.ADMOB_CODE, a.APP_DESC, a.APP_STATUS, a.FLAG, a.BLOCKING, a.ADD_OPER, a.ADD_TIME,
      a.UPD_OPER, a.UPD_TIME, a.DEL_OPER, a.DEL_TIME, a.DEL_FLAG, a.APP_TYPE_MPID, a.APP_CODE, 
      IFNULL(b.OFFER,0)OFFER,
      IFNULL(b.MAX_NUM,0)MAX_NUM,
      IFNULL(b.SHOW_NUM,0)SHOW_NUM,
      IFNULL(b.CLICK_NUM,0)CLICK_NUM,
      CASE WHEN IFNULL(SUM(b.AD_NUM),0)>0 
      THEN SUM(b.SHOW_NUM)/SUM(b.MAX_NUM)
      ELSE 0 END PUT_RATE,
      CASE WHEN IFNULL(SUM(b.SHOW_NUM),0)>0 
      THEN SUM(b.CLICK_NUM)/SUM(b.SHOW_NUM)
      ELSE 0 END CLICK_RATE
      from CORE_APP a left join 
      (select APP_CODE,SUM(OFFER)OFFER,SUM(MAX_NUM)MAX_NUM,SUM(SHOW_NUM)SHOW_NUM,SUM(CLICK_NUM)CLICK_NUM,SUM(AD_NUM) AD_NUM,SUM(CLICK_RATE) CLICK_RATE,ADD_TIME
      from STAT_APP group by APP_CODE
      )b
      on a.app_code=b.app_code
     <dynamic prepend="where">
     <isNotEmpty prepend="and" property="appPlatformType">
           a.APP_PLATFORM_TYPE like '%$appPlatformType$%'
     </isNotEmpty>
     <isNotEmpty prepend="and" property="appName">
           a.APP_NAME like '%$appName$%' 
            <isNotNull property="escape">
           $escape$
           </isNotNull>
     </isNotEmpty>
     <isNotEmpty prepend="and" property="appType">
           a.APP_TYPE like '%$appType$%'
     </isNotEmpty>
     <isNotNull prepend="and" property="startTime">
        <![CDATA[
             a.ADD_TIME>=#startTime#
        ]]>
        </isNotNull>
     <isNotNull prepend="and" property="endTime">
        <![CDATA[
             a.ADD_TIME <= #endTime#
        ]]>
     </isNotNull>
    </dynamic> 
    group by a.app_code
    <dynamic prepend="order by">
    <isNotEmpty property="descFlag">
           a.ADD_TIME DESC
    </isNotEmpty>
     <isEmpty property="descFlag">
           a.ADD_TIME ASC
     </isEmpty>
    </dynamic>
      <isNotEmpty property="fromRecord">
     limit $fromRecord$,$pageSize$
    </isNotEmpty>
  </select>
  <resultMap id="ibatorgenerated_BaseResultMap_admin" class="com.mitian.airad.model.CoreApp" extends="ibatorgenerated_BaseResultMap_appDetial">
   <result column="EMAIL" property="email" jdbcType="VARCHAR" />
  </resultMap>
  
  
     <!-- 根据appCode查询 -->
  <select id="selectAppByAppCode" resultMap="ibatorgenerated_BaseResultMap" parameterClass="com.mitian.airad.model.CoreApp">
      select APP_ID, MEMBER_ID, APP_NAME, APP_TYPE, APP_PLATFORM_TYPE, USER_SEX, USER_AGE_PAG,
      DOWN_URL, PUB_OUTSIDE, ADMOB_CODE, APP_DESC, APP_STATUS, FLAG, BLOCKING, ADD_OPER, ADD_TIME,
      UPD_OPER, UPD_TIME, DEL_OPER, DEL_TIME, DEL_FLAG, APP_TYPE_MPID, APP_CODE
    from CORE_APP where APP_CODE=#appCode:VARCHAR#
  </select>
  
  <!-- 查询app根据appId -->
  <select id="findListAppByAppId" resultMap="ibatorgenerated_BaseResultMap_admin" parameterClass="com.mitian.airad.model.CoreApp">
     select c.EMAIL, a.APP_ID, a.MEMBER_ID, a.APP_NAME, a.APP_TYPE, a.APP_PLATFORM_TYPE, a.USER_SEX, a.USER_AGE_PAG,
      a.DOWN_URL, a.PUB_OUTSIDE, a.ADMOB_CODE, a.APP_DESC, a.APP_STATUS, a.FLAG, a.BLOCKING, a.ADD_OPER, a.ADD_TIME,
      a.UPD_OPER, a.UPD_TIME, a.DEL_OPER, a.DEL_TIME, a.DEL_FLAG, a.APP_TYPE_MPID, a.APP_CODE, 
      IFNULL(SUM(b.OFFER),0)OFFER,
      IFNULL(SUM(b.MAX_NUM),0)MAX_NUM,
      IFNULL(SUM(b.SHOW_NUM),0)SHOW_NUM,
      IFNULL(SUM(b.CLICK_NUM),0)CLICK_NUM,
      CASE WHEN IFNULL(SUM(b.AD_NUM),0)>0 
      THEN SUM(b.SHOW_NUM)/SUM(b.MAX_NUM)
      ELSE 0 END PUT_RATE,
      CASE WHEN IFNULL(SUM(b.SHOW_NUM),0)>0 
      THEN SUM(b.CLICK_NUM)/SUM(b.SHOW_NUM)
      ELSE 0 END CLICK_RATE
      from  
      CORE_APP a, STAT_APP b,CORE_MEMBER_INFO c where a.app_code=b.app_code and a.MEMBER_ID=c.MEMBER_ID
      and a.APP_ID=#appId#
      </select>
  
   <!-- 查询所有根据appCode name blocking -->
  <select id="findListAppByCodeAndNameAndBlcking" resultMap="ibatorgenerated_BaseResultMap_admin" parameterClass="java.util.HashMap">
     select c.EMAIL, a.APP_ID, a.MEMBER_ID, a.APP_NAME, a.APP_TYPE, a.APP_PLATFORM_TYPE, a.USER_SEX, a.USER_AGE_PAG,
      a.DOWN_URL, a.PUB_OUTSIDE, a.ADMOB_CODE, a.APP_DESC, a.APP_STATUS, a.FLAG, a.BLOCKING, a.ADD_OPER, a.ADD_TIME,
      a.UPD_OPER, a.UPD_TIME, a.DEL_OPER, a.DEL_TIME, a.DEL_FLAG, a.APP_TYPE_MPID, a.APP_CODE, 
       IFNULL(SUM(b.OFFER),0)OFFER,
      IFNULL(SUM(b.MAX_NUM),0)MAX_NUM,
      IFNULL(SUM(b.SHOW_NUM),0)SHOW_NUM,
      IFNULL(SUM(b.CLICK_NUM),0)CLICK_NUM,
      CASE WHEN IFNULL(SUM(b.AD_NUM),0)>0 
      THEN SUM(b.SHOW_NUM)/SUM(b.MAX_NUM)
      ELSE 0 END PUT_RATE,
       CASE WHEN IFNULL(SUM(b.SHOW_NUM),0)>0 
      THEN SUM(b.CLICK_NUM)/SUM(b.SHOW_NUM)
      ELSE 0 END CLICK_RATE
      from  
     CORE_APP a  left join STAT_APP b  on  a.app_code=b.app_code LEFT JOIN CORE_MEMBER_INFO c ON a.MEMBER_ID=c.MEMBER_ID
    <dynamic prepend="where">
    <isNotEmpty prepend="and" property="appName">
           a.APP_NAME like '%$appName$%'
     </isNotEmpty>
     <isNotEmpty prepend="and" property="blocking">
           a.BLOCKING=#blocking#
     </isNotEmpty>
     <isNotEmpty prepend="and" property="appCode">
           a.APP_CODE=#appCode#
     </isNotEmpty>
     <isNotEmpty prepend="and" property="appPlatformType">
           a.APP_PLATFORM_TYPE=#appPlatformType#
     </isNotEmpty>
     </dynamic>
     group by a.app_code
      <dynamic prepend="order by">
    <isNotEmpty property="taxis">
           a.ADD_TIME $taxis$
    </isNotEmpty>
    </dynamic>
  </select>
  
  <!-- 查找总条数 （后台） -->
  <select id="selectAllCountByAdmin"  resultClass="int" parameterClass="com.mitian.airad.model.CoreApp">
      select COUNT(*) count from CORE_APP
      <dynamic prepend="where">
     <isNotEmpty prepend="and" property="appName">
           APP_NAME like '%$appName$%'
     </isNotEmpty>
      <isNotEmpty prepend="and" property="appCode">
           APP_CODE=#appCode#
     </isNotEmpty>
     <isNotEmpty prepend="and" property="appPlatformType">
           APP_PLATFORM_TYPE=#appPlatformType#
     </isNotEmpty>
     <isNotEmpty prepend="and" property="blocking">
           BLOCKING=#blocking#
     </isNotEmpty>
     </dynamic>
  </select>
  
  <!-- 查找总条数 -->
  <select id="selectAllCount"  resultClass="int" parameterClass="java.util.HashMap">
      select COUNT(*) count from CORE_APP
      <dynamic prepend="where">
     <isNotEmpty prepend="and" property="appName">
           APP_NAME like '%$appName$%'  
           <isNotNull property="escape">
           $escape$
           </isNotNull>
     </isNotEmpty>
      <isNotEmpty prepend="and" property="memberId">
           MEMBER_ID=#memberId#
     </isNotEmpty>
     </dynamic>
  </select>

 <!-- 查询所有 -->
  <select id="findListApp" resultMap="ibatorgenerated_BaseResultMap" parameterClass="com.mitian.airad.model.CoreApp">
     select APP_ID, MEMBER_ID, APP_NAME, APP_TYPE, APP_PLATFORM_TYPE, USER_SEX, USER_AGE_PAG,
      DOWN_URL, PUB_OUTSIDE, ADMOB_CODE, APP_DESC, APP_STATUS, FLAG, BLOCKING, ADD_OPER, ADD_TIME,
      UPD_OPER, UPD_TIME, DEL_OPER, DEL_TIME, DEL_FLAG, APP_TYPE_MPID, APP_CODE
    from CORE_APP
    <isNotEmpty prepend="where" property="memberId">
           MEMBER_ID=#memberId#
     </isNotEmpty>
  </select>
   <!-- 查询所有分页 -->
   <select id="selectAll" resultMap="ibatorgenerated_BaseResultMap_appDetial" parameterClass="java.util.HashMap" >
      select a.APP_ID, a.MEMBER_ID, a.APP_NAME, a.APP_TYPE, a.APP_PLATFORM_TYPE, a.USER_SEX, a.USER_AGE_PAG,
      a.DOWN_URL, a.PUB_OUTSIDE, a.ADMOB_CODE, a.APP_DESC, a.APP_STATUS, a.FLAG, a.BLOCKING, a.ADD_OPER, a.ADD_TIME,
      a.UPD_OPER, a.UPD_TIME, a.DEL_OPER, a.DEL_TIME, a.DEL_FLAG, a.APP_TYPE_MPID, a.APP_CODE, 
      IFNULL(SUM(b.OFFER),0)OFFER,
      IFNULL(SUM(b.MAX_NUM),0)MAX_NUM,
      IFNULL(SUM(b.SHOW_NUM),0)SHOW_NUM,
      IFNULL(SUM(b.CLICK_NUM),0)CLICK_NUM,
      CASE WHEN IFNULL(SUM(b.SHOW_NUM),0)>0 
      THEN SUM(b.SHOW_NUM)/SUM(b.MAX_NUM)
      ELSE 0 END PUT_RATE,
      CASE WHEN IFNULL(SUM(b.SHOW_NUM),0)>0 
      THEN SUM(b.CLICK_NUM)/SUM(b.SHOW_NUM)
      ELSE 0 END CLICK_RATE
      from  
      (select * from CORE_APP where MEMBER_ID= #memberId#) a 
      left join 
      (select * from STAT_APP where MEMBER_ID= #memberId#) b 
      on a.app_code=b.app_code
     <isNotEmpty prepend="where" property="appName">
           a.APP_NAME like '%$appName$%' 
            <isNotNull property="escape">$escape$
           </isNotNull>
     </isNotEmpty>
    group by a.app_code
    <dynamic prepend="order by">
    <isNotEmpty property="descFlag">
           a.ADD_TIME DESC
    </isNotEmpty>
     <isEmpty property="descFlag">
           a.ADD_TIME ASC
     </isEmpty>
    </dynamic>
     <isNotEmpty property="fromRecord">
     limit $fromRecord$,$pageSize$
    </isNotEmpty>
  </select>
  
  <select id="ibatorgenerated_selectByPrimaryKey" resultMap="ibatorgenerated_BaseResultMap" parameterClass="com.mitian.airad.model.CoreApp" >
    <!--
      WARNING - This element is automatically generated by Apache iBATIS ibator, do not modify.
      This element was generated on Sat Feb 19 17:01:58 CST 2011.
    -->
    select APP_ID, MEMBER_ID, APP_NAME, APP_TYPE, APP_PLATFORM_TYPE, USER_SEX, USER_AGE_PAG,
      DOWN_URL, PUB_OUTSIDE, ADMOB_CODE, APP_DESC, APP_STATUS, FLAG, BLOCKING, ADD_OPER, ADD_TIME,
      UPD_OPER, UPD_TIME, DEL_OPER, DEL_TIME, DEL_FLAG, APP_TYPE_MPID, APP_CODE
    from CORE_APP
    where APP_ID = #appId:INTEGER#  and MEMBER_ID=#memberId:LONG#
  </select>
  <delete id="ibatorgenerated_deleteByPrimaryKey" parameterClass="com.mitian.airad.model.CoreApp" >
    <!--
      WARNING - This element is automatically generated by Apache iBATIS ibator, do not modify.
      This element was generated on Sat Feb 19 17:01:58 CST 2011.
    -->
    delete from CORE_APP
    where APP_ID = #appId:INTEGER#
  </delete>
  <insert id="ibatorgenerated_insert" parameterClass="com.mitian.airad.model.CoreApp" >
    <!--
      WARNING - This element is automatically generated by Apache iBATIS ibator, do not modify.
      This element was generated on Sat Feb 19 17:01:58 CST 2011.
    -->
    insert into CORE_APP (APP_ID, MEMBER_ID, APP_NAME, APP_TYPE, APP_PLATFORM_TYPE, USER_SEX,
      USER_AGE_PAG, DOWN_URL, PUB_OUTSIDE, ADMOB_CODE, APP_DESC, APP_STATUS, FLAG, BLOCKING,
      ADD_OPER, ADD_TIME, UPD_OPER, UPD_TIME, DEL_OPER, DEL_TIME, DEL_FLAG, APP_TYPE_MPID, APP_CODE)
    values (#appId:INTEGER#, #memberId:LONG#, #appName:VARCHAR#, #appType:CHAR#,
      #appPlatformType:CHAR#, #userSex:CHAR#, #userAgePag:CHAR#, #downUrl:VARCHAR#,
      #pubOutside:CHAR#, #admobCode:VARCHAR#, #appDesc:VARCHAR#, #appStatus:CHAR#, #flag:CHAR#,
      #blocking:CHAR#, #addOper:VARCHAR#, #addTime:TIMESTAMP#, #updOper:VARCHAR#,
      #updTime:TIMESTAMP#, #delOper:VARCHAR#, #delTime:TIMESTAMP#, #delFlag:CHAR#,
      #appTypeMpid:CHAR#, #appCode:VARCHAR#)
  </insert>
  <insert id="ibatorgenerated_insertSelective" parameterClass="com.mitian.airad.model.CoreApp" >
    <!--
      WARNING - This element is automatically generated by Apache iBATIS ibator, do not modify.
      This element was generated on Sat Feb 19 17:01:58 CST 2011.
    -->
    insert into CORE_APP
    <dynamic prepend="(" >
      <isNotNull prepend="," property="appId" >
        APP_ID
      </isNotNull>
      <isNotNull prepend="," property="memberId" >
        MEMBER_ID
      </isNotNull>
      <isNotNull prepend="," property="appName" >
        APP_NAME
      </isNotNull>
      <isNotNull prepend="," property="appType" >
        APP_TYPE
      </isNotNull>
      <isNotNull prepend="," property="appPlatformType" >
        APP_PLATFORM_TYPE
      </isNotNull>
      <isNotNull prepend="," property="userSex" >
        USER_SEX
      </isNotNull>
      <isNotNull prepend="," property="userAgePag" >
        USER_AGE_PAG
      </isNotNull>
      <isNotNull prepend="," property="downUrl" >
        DOWN_URL
      </isNotNull>
      <isNotNull prepend="," property="pubOutside" >
        PUB_OUTSIDE
      </isNotNull>
      <isNotNull prepend="," property="admobCode" >
        ADMOB_CODE
      </isNotNull>
      <isNotNull prepend="," property="appDesc" >
        APP_DESC
      </isNotNull>
      <isNotNull prepend="," property="appStatus" >
        APP_STATUS
      </isNotNull>
      <isNotNull prepend="," property="flag" >
        FLAG
      </isNotNull>
      <isNotNull prepend="," property="blocking" >
        BLOCKING
      </isNotNull>
      <isNotNull prepend="," property="addOper" >
        ADD_OPER
      </isNotNull>
      <isNotNull prepend="," property="addTime" >
        ADD_TIME
      </isNotNull>
      <isNotNull prepend="," property="updOper" >
        UPD_OPER
      </isNotNull>
      <isNotNull prepend="," property="updTime" >
        UPD_TIME
      </isNotNull>
      <isNotNull prepend="," property="delOper" >
        DEL_OPER
      </isNotNull>
      <isNotNull prepend="," property="delTime" >
        DEL_TIME
      </isNotNull>
      <isNotNull prepend="," property="delFlag" >
        DEL_FLAG
      </isNotNull>
      <isNotNull prepend="," property="appTypeMpid" >
        APP_TYPE_MPID
      </isNotNull>
      <isNotNull prepend="," property="appCode" >
        APP_CODE
      </isNotNull>
      )
    </dynamic>
    values
    <dynamic prepend="(" >
      <isNotNull prepend="," property="appId" >
        #appId:INTEGER#
      </isNotNull>
      <isNotNull prepend="," property="memberId" >
        #memberId:LONG#
      </isNotNull>
      <isNotNull prepend="," property="appName" >
        #appName:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="appType" >
        #appType:CHAR#
      </isNotNull>
      <isNotNull prepend="," property="appPlatformType" >
        #appPlatformType:CHAR#
      </isNotNull>
      <isNotNull prepend="," property="userSex" >
        #userSex:CHAR#
      </isNotNull>
      <isNotNull prepend="," property="userAgePag" >
        #userAgePag:CHAR#
      </isNotNull>
      <isNotNull prepend="," property="downUrl" >
        #downUrl:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="pubOutside" >
        #pubOutside:CHAR#
      </isNotNull>
      <isNotNull prepend="," property="admobCode" >
        #admobCode:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="appDesc" >
        #appDesc:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="appStatus" >
        #appStatus:CHAR#
      </isNotNull>
      <isNotNull prepend="," property="flag" >
        #flag:CHAR#
      </isNotNull>
      <isNotNull prepend="," property="blocking" >
        #blocking:CHAR#
      </isNotNull>
      <isNotNull prepend="," property="addOper" >
        #addOper:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="addTime" >
        #addTime:TIMESTAMP#
      </isNotNull>
      <isNotNull prepend="," property="updOper" >
        #updOper:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="updTime" >
        #updTime:TIMESTAMP#
      </isNotNull>
      <isNotNull prepend="," property="delOper" >
        #delOper:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="delTime" >
        #delTime:TIMESTAMP#
      </isNotNull>
      <isNotNull prepend="," property="delFlag" >
        #delFlag:CHAR#
      </isNotNull>
      <isNotNull prepend="," property="appTypeMpid" >
        #appTypeMpid:CHAR#
      </isNotNull>
      <isNotNull prepend="," property="appCode" >
        #appCode:VARCHAR#
      </isNotNull>
      )
    </dynamic>
  </insert>
  <update id="ibatorgenerated_updateByPrimaryKeySelective" parameterClass="com.mitian.airad.model.CoreApp" >
    <!--
      WARNING - This element is automatically generated by Apache iBATIS ibator, do not modify.
      This element was generated on Sat Feb 19 17:01:58 CST 2011.
    -->
    update CORE_APP set  MEMBER_ID = #memberId:LONG#
      <isNotNull prepend="," property="appName" >
        APP_NAME = #appName:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="appType" >
        APP_TYPE = #appType:CHAR#
      </isNotNull>
      <isNotNull prepend="," property="appPlatformType" >
        APP_PLATFORM_TYPE = #appPlatformType:CHAR#
      </isNotNull>
      <isNotNull prepend="," property="userSex" >
        USER_SEX = #userSex:CHAR#
      </isNotNull>
      <isNotNull prepend="," property="userAgePag" >
        USER_AGE_PAG = #userAgePag:CHAR#
      </isNotNull>
      <isNotNull prepend="," property="downUrl" >
        DOWN_URL = #downUrl:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="pubOutside" >
        PUB_OUTSIDE = #pubOutside:CHAR#
      </isNotNull>
      <isNotNull prepend="," property="admobCode" >
        ADMOB_CODE = #admobCode:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="appDesc" >
        APP_DESC = #appDesc:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="appStatus" >
        APP_STATUS = #appStatus:CHAR#
      </isNotNull>
      <isNotNull prepend="," property="flag" >
        FLAG = #flag:CHAR#
      </isNotNull>
      <isNotNull prepend="," property="blocking" >
        BLOCKING = #blocking:CHAR#
      </isNotNull>
      <isNotNull prepend="," property="addOper" >
        ADD_OPER = #addOper:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="addTime" >
        ADD_TIME = #addTime:TIMESTAMP#
      </isNotNull>
      <isNotNull prepend="," property="updOper" >
        UPD_OPER = #updOper:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="updTime" >
        UPD_TIME = #updTime:TIMESTAMP#
      </isNotNull>
      <isNotNull prepend="," property="delOper" >
        DEL_OPER = #delOper:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="delTime" >
        DEL_TIME = #delTime:TIMESTAMP#
      </isNotNull>
      <isNotNull prepend="," property="delFlag" >
        DEL_FLAG = #delFlag:CHAR#
      </isNotNull>
      <isNotNull prepend="," property="appTypeMpid" >
        APP_TYPE_MPID = #appTypeMpid:CHAR#
      </isNotNull>
      <isNotNull prepend="," property="appCode" >
        APP_CODE = #appCode:VARCHAR#
      </isNotNull>
    where APP_ID = #appId:INTEGER# and MEMBER_ID = #memberId:LONG#
  </update>
  <update id="ibatorgenerated_updateByPrimaryKey" parameterClass="com.mitian.airad.model.CoreApp" >
    <!--
      WARNING - This element is automatically generated by Apache iBATIS ibator, do not modify.
      This element was generated on Sat Feb 19 17:01:58 CST 2011.
    -->
    update CORE_APP
    set MEMBER_ID = #memberId:LONG#,
      APP_NAME = #appName:VARCHAR#,
      APP_TYPE = #appType:CHAR#,
      APP_PLATFORM_TYPE = #appPlatformType:CHAR#,
      USER_SEX = #userSex:CHAR#,
      USER_AGE_PAG = #userAgePag:CHAR#,
      DOWN_URL = #downUrl:VARCHAR#,
      PUB_OUTSIDE = #pubOutside:CHAR#,
      ADMOB_CODE = #admobCode:VARCHAR#,
      APP_DESC = #appDesc:VARCHAR#,
      APP_STATUS = #appStatus:CHAR#,
      FLAG = #flag:CHAR#,
      BLOCKING = #blocking:CHAR#,
      ADD_OPER = #addOper:VARCHAR#,
      ADD_TIME = #addTime:TIMESTAMP#,
      UPD_OPER = #updOper:VARCHAR#,
      UPD_TIME = #updTime:TIMESTAMP#,
      DEL_OPER = #delOper:VARCHAR#,
      DEL_TIME = #delTime:TIMESTAMP#,
      DEL_FLAG = #delFlag:CHAR#,
      APP_TYPE_MPID = #appTypeMpid:CHAR#,
      APP_CODE = #appCode:VARCHAR#
    where APP_ID = #appId:INTEGER#
  </update>
</sqlMap>
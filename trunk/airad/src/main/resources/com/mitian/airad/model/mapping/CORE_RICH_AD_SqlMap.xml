<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE sqlMap PUBLIC "-//ibatis.apache.org//DTD SQL Map 2.0//EN" "http://ibatis.apache.org/dtd/sql-map-2.dtd" >
<sqlMap namespace="CORE_RICH_AD">
    <resultMap id="ibatorgenerated_BaseResultMap" class="com.mitian.airad.model.CoreRichAd">
        <!--
            WARNING - This element is automatically generated by Apache iBATIS ibator, do not modify. This element was
            generated on Wed Mar 09 13:32:12 CST 2011.
        -->
        <result column="RICH_ID" property="richId" jdbcType="INTEGER" />
        <result column="RICH_MEDIA_TITLE" property="richMediaTitle" jdbcType="VARCHAR" />
        <result column="RICH_MEDIA_Content" property="richMediaContent" jdbcType="LONGVARCHAR" />
        <result column="FORMAT_TYPE" property="formatType" jdbcType="INTEGER" />
        <result column="SHOW_TYPE" property="showType" jdbcType="CHAR" />
        <result column="ADD_OPER" property="addOper" jdbcType="VARCHAR" />
        <result column="ADD_TIME" property="addTime" jdbcType="TIMESTAMP" />
        <result column="UPD_OPER" property="updOper" jdbcType="VARCHAR" />
        <result column="UPD_TIME" property="updTime" jdbcType="TIMESTAMP" />
        <result column="DEL_OPER" property="delOper" jdbcType="VARCHAR" />
        <result column="DEL_TIME" property="delTime" jdbcType="TIMESTAMP" />
        <result column="DEL_FLAG" property="delFlag" jdbcType="CHAR" />
        <result column="AD_ID" property="adId" jdbcType="INTEGER" />
        <result column="SORT" property="sort" jdbcType="INTEGER" />
        <result column="REL_ID" property="relId" jdbcType="VARCHAR" />
        <result column="PHONE" property="phone" jdbcType="VARCHAR" />
         <result column="MEMBER_ID" property="memberId" jdbcType="LONG" />
    </resultMap>
    <resultMap id="ibatorgenerated_ResultMapWithBLOBs" class="com.mitian.airad.model.CoreRichAd" extends="CORE_RICH_AD.ibatorgenerated_BaseResultMap">
        <!--
            WARNING - This element is automatically generated by Apache iBATIS ibator, do not modify. This element was
            generated on Wed Mar 09 13:32:12 CST 2011.
        -->
        <result column="RICH_MEDIA_CONTENT" property="richMediaContent" jdbcType="LONGVARCHAR" />
    </resultMap>
    <!--根据广告id查询所有富媒体信息   -->
    <select id="selectRichAllByAdId" parameterClass="com.mitian.airad.model.CoreRichAd" resultMap="ibatorgenerated_BaseResultMap"> select RICH_ID,
        RICH_MEDIA_TITLE,FORMAT_TYPE, SHOW_TYPE, ADD_OPER, ADD_TIME, UPD_OPER, UPD_TIME, DEL_OPER, DEL_TIME, DEL_FLAG,MEMBER_ID,
        AD_ID, SORT, REL_ID, RICH_MEDIA_CONTENT,PHONE from CORE_RICH_AD where AD_ID = #adId:INTEGER# AND MEMBER_ID=#memberId:LONG#
        and (DEL_FLAG !='1' or DEL_FLAG is null) order by SORT
        </select>
    <delete id="ibatorgenerated_deleteByPrimaryKey" parameterClass="com.mitian.airad.model.CoreRichAd">
        <!--
            WARNING - This element is automatically generated by Apache iBATIS ibator, do not modify. This element was
            generated on Wed Mar 09 13:32:12 CST 2011.
        -->
        delete from CORE_RICH_AD where RICH_ID = #richId:INTEGER# AND MEMBER_ID=#memberId:LONG#
    </delete>
    <delete id="ibatorgenerated_deleteByAdIdAndSort" parameterClass="com.mitian.airad.model.CoreRichAd">
        <!--
            WARNING - This element is automatically generated by Apache iBATIS ibator, do not modify. This element was
            generated on Wed Mar 09 13:32:12 CST 2011.
        -->
        delete from CORE_RICH_AD where AD_ID = #adId:INTEGER# and SORT=#sort:INTEGER# AND MEMBER_ID=#memberId:LONG#
    </delete>
    <insert id="ibatorgenerated_insert" parameterClass="com.mitian.airad.model.CoreRichAd">
        <!--
            WARNING - This element is automatically generated by Apache iBATIS ibator, do not modify. This element was
            generated on Wed Mar 09 13:32:12 CST 2011.
        -->
        insert into CORE_RICH_AD (RICH_ID, RICH_MEDIA_TITLE,FORMAT_TYPE, SHOW_TYPE, ADD_OPER, ADD_TIME, UPD_OPER,
        UPD_TIME, DEL_OPER, DEL_TIME, DEL_FLAG, AD_ID, SORT, REL_ID, RICH_MEDIA_CONTENT,PHONE,MEMBER_ID) values (#richId:INTEGER#,
        #richMediaTitle:VARCHAR#, #formatType:INTEGER#,#showType:CHAR#, #addOper:VARCHAR#, #addTime:TIMESTAMP#,
        #updOper:VARCHAR#, #updTime:TIMESTAMP#, #delOper:VARCHAR#, #delTime:TIMESTAMP#, #delFlag:CHAR#, #adId:INTEGER#,
        #sort:INTEGER#, #relId:VARCHAR#, #richMediaContent:LONGVARCHAR#,#phone:VARCHAR#,#memberId:LONG#)
        <selectKey resultClass="int" keyProperty="richId" type="post"> SELECT @@IDENTITY AS ID</selectKey>
    </insert>
    <insert id="ibatorgenerated_insertSelective" parameterClass="com.mitian.airad.model.CoreRichAd">
        <!--
            WARNING - This element is automatically generated by Apache iBATIS ibator, do not modify. This element was
            generated on Wed Mar 09 13:32:12 CST 2011.
        -->
        insert into CORE_RICH_AD
        <dynamic prepend="(">
            <isNotNull prepend="," property="richId"> RICH_ID</isNotNull>
            <isNotNull prepend="," property="richMediaTitle"> RICH_MEDIA_TITLE</isNotNull>
            <isNotNull prepend="," property="formatType"> FORMAT_TYPE</isNotNull>
            <isNotNull prepend="," property="showType"> SHOW_TYPE</isNotNull>
            <isNotNull prepend="," property="addOper"> ADD_OPER</isNotNull>
            <isNotNull prepend="," property="addTime"> ADD_TIME</isNotNull>
            <isNotNull prepend="," property="updOper"> UPD_OPER</isNotNull>
            <isNotNull prepend="," property="updTime"> UPD_TIME</isNotNull>
            <isNotNull prepend="," property="delOper"> DEL_OPER</isNotNull>
            <isNotNull prepend="," property="delTime"> DEL_TIME</isNotNull>
            <isNotNull prepend="," property="delFlag"> DEL_FLAG</isNotNull>
            <isNotNull prepend="," property="adId"> AD_ID</isNotNull>
            <isNotNull prepend="," property="sort"> SORT</isNotNull>
            <isNotNull prepend="," property="relId"> REL_ID</isNotNull>
            <isNotNull prepend="," property="richMediaContent"> RICH_MEDIA_CONTENT</isNotNull>
            <isNotNull prepend="," property="phone"> PHONE</isNotNull>
            <isNotNull prepend="," property="memberId"> MEMBER_ID</isNotNull>
            )
        </dynamic>
        values
        <dynamic prepend="(">
            <isNotNull prepend="," property="richId"> #richId:INTEGER#</isNotNull>
            <isNotNull prepend="," property="richMediaTitle"> #richMediaTitle:VARCHAR#</isNotNull>
            <isNotNull prepend="," property="formatType"> #formatType:INTEGER#</isNotNull>
            <isNotNull prepend="," property="showType"> #showType:CHAR#</isNotNull>
            <isNotNull prepend="," property="addOper"> #addOper:VARCHAR#</isNotNull>
            <isNotNull prepend="," property="addTime"> #addTime:TIMESTAMP#</isNotNull>
            <isNotNull prepend="," property="updOper"> #updOper:VARCHAR#</isNotNull>
            <isNotNull prepend="," property="updTime"> #updTime:TIMESTAMP#</isNotNull>
            <isNotNull prepend="," property="delOper"> #delOper:VARCHAR#</isNotNull>
            <isNotNull prepend="," property="delTime"> #delTime:TIMESTAMP#</isNotNull>
            <isNotNull prepend="," property="delFlag"> #delFlag:CHAR#</isNotNull>
            <isNotNull prepend="," property="adId"> #adId:INTEGER#</isNotNull>
            <isNotNull prepend="," property="sort"> #sort:INTEGER#</isNotNull>
            <isNotNull prepend="," property="relId"> #relId:VARCHAR#</isNotNull>
            <isNotNull prepend="," property="richMediaContent"> #richMediaContent:LONGVARCHAR#</isNotNull>
            <isNotNull prepend="," property="phone"> #phone:VARCHAR#</isNotNull>
            <isNotNull prepend="," property="memberId"> #memberId:LONG#</isNotNull>
            )
        </dynamic>
        <selectKey resultClass="int" keyProperty="richId" type="post"> SELECT @@IDENTITY AS ID</selectKey>
    </insert>
    <update id="ibatorgenerated_updateByPrimaryKey" parameterClass="com.mitian.airad.model.CoreRichAd">
        <!--
            WARNING - This element is automatically generated by Apache iBATIS ibator, do not modify. This element was
            generated on Wed Mar 09 13:32:12 CST 2011.
        -->
        update CORE_RICH_AD set RICH_MEDIA_TITLE = #richMediaTitle:VARCHAR#,FORMAT_TYPE = #formatType:INTEGER#,
        SHOW_TYPE = #showType:CHAR#, ADD_OPER = #addOper:VARCHAR#, ADD_TIME = #addTime:TIMESTAMP#, UPD_OPER =
        #updOper:VARCHAR#, UPD_TIME = #updTime:TIMESTAMP#, DEL_OPER = #delOper:VARCHAR#, DEL_TIME = #delTime:TIMESTAMP#,
        DEL_FLAG = #delFlag:CHAR#, AD_ID = #adId:INTEGER#, SORT = #sort:INTEGER#, REL_ID =
        #relId:VARCHAR#,RICH_MEDIA_CONTENT = #richMediaContent:LONGVARCHAR#,PHONE=#phone:VARCHAR# where RICH_ID = #richId:INTEGER# AND MEMBER_ID=#memberId:LONG# and (DEL_FLAG  is null OR DEL_FLAG !='1')
    </update>
    <update id="ibatorgenerated_updateRelByPrimaryKey" parameterClass="com.mitian.airad.model.CoreRichAd">
        <!--
            WARNING - This element is automatically generated by Apache iBATIS ibator, do not modify. This element was
            generated on Wed Mar 09 13:32:12 CST 2011.
        -->
        update CORE_RICH_AD set REL_ID = #relId:INTEGER# where RICH_ID = #richId:INTEGER# AND MEMBER_ID=#memberId:LONG#
    </update>
</sqlMap>
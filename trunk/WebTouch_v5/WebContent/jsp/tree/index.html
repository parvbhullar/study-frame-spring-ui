<!DOCTYPE HTML>
<html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<!--  
<link type="text/css" rel="stylesheet" href="http://216.108.229.26/jstree/_docs/syntax/!style.css"/>
-->
	<!--  
	<link type="text/css" rel="stylesheet" href="http://216.108.229.26/jstree/_docs/!style.css"/>
	-->
</head>
<body>
	<h2>PHP &amp; mySQL demotree + event order</h2>
<div id="description">
<p>Here is a PHP &amp; mySQL enabled demotree. You can use the classes/DB structure included, but those are not thoroughly tested and not officially a part of jstree. In the log window you can also see all function calls as they happen on the instance.</p>
<div id="mmenu" style="height:30px; overflow:auto;">
<input type="button" id="add_folder" value="add folder" style="display:block; float:left;"/>
<input type="button" id="add_default" value="add file" style="display:block; float:left;"/>
<input type="button" id="rename" value="rename" style="display:block; float:left;"/>
<input type="button" id="remove" value="remove" style="display:block; float:left;"/>
<input type="button" id="cut" value="cut" style="display:block; float:left;"/>
<input type="button" id="copy" value="copy" style="display:block; float:left;"/>
<input type="button" id="paste" value="paste" style="display:block; float:left;"/>
<input type="button" id="clear_search" value="clear" style="display:block; float:right;"/>
<input type="button" id="search" value="search" style="display:block; float:right;"/>
<input type="text" id="text" value="" style="display:block; float:right;" />
</div>

<!-- the tree container (notice NOT an UL node) -->
<div id="demotree" class="demotree" style="height:200px;"></div>
<div style="height:30px; text-align:center;">
	<input type="button" style='width:170px; height:24px; margin:5px auto;' value="reconstruct" onclick="$.get('menuTreeTest?reconstruct', function () { $('#demotree').jstree('refresh',-1); });" />
	<input type="button" style='width:170px; height:24px; margin:5px auto;' id="analyze" value="analyze" onclick="$('#alog').load('menuTreeTest?analyze');" />
	<input type="button" style='width:170px; height:24px; margin:5px auto;' value="refresh" onclick="$('#demotree').jstree('refresh',-1);" />
</div>
<div id='alog' style="border:1px solid gray; padding:5px; height:100px; margin-top:15px; overflow:auto; font-family:Monospace;"></div>
<!-- JavaScript neccessary for the tree -->
<script type="text/javascript" class="source below">
$(function () {
console.info("demotree");
$("#demotree")
	.jstree({ 
		// List of active plugins
		"plugins" : [ 
			"themes","json_data" 
		],
		"json_data" : { 
			"ajax" : {
				"url" : "menuTreeTest.action",
				"data" : function (n) { 
					// the result is fed to the AJAX request `data` option
					return { 
						"operation" : "get_children", 
						"id" : n.attr ? n.attr("id").replace("node_","") : "0102" 
					}; 
				}
				//"data":  "parentid":"0102"
				//"data" : function (n) { 
				//	return { 
				//		"parentid" : "0102" 
				//	};
			}
		},
	"themes" : {
        "theme" : "classic",
        "dots" : true,
        "icons" : true 
	}
	});
});

</script>
</body> 
</html>
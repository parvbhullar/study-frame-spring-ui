(function(a,b){var c=b.kendo,d=c.ui,e=a.extend,f=c.template,g=d.Component,h="error",i="select",j="contentLoad",k="mouseenter",l="mouseleave",m="click",n=".t-tabstrip-items > .t-item:not(.t-state-disabled)",o=".t-tabstrip-items > .t-item:not(.t-state-disabled):not(.t-state-active)",p=".t-tabstrip-items > .t-state-disabled .t-link",q="t-state-disabled",r="t-state-default",s="t-state-active",t="t-state-hover",u="t-tab-on-top",v=":empty",w=g.extend({init:function(b,c){b=a(b);var d=this;c&&"animation"in c&&!c.animation&&(c.animation={open:{effects:{}},close:{effects:{}}}),g.fn.init.call(d,b,c),c=d.options,b.delegate(n,m,a.proxy(d._click,d)).delegate(o,k+" "+l,d._toggleHover).delegate(p,m,!1),d.bind([i,h,j],d.options),d._updateClasses(),d.options.contentUrls&&b.find(".t-tabstrip-items > .t-item").each(function(b,c){a(c).find(">.t-link").data("ContentUrl",d.options.contentUrls[b])});var e=b.find("li."+s),f=a(d.getContentElement(e.parent().children().index(e)));f.length>0&&f[0].childNodes.length==0&&d.activateTab(e.eq(0))},options:{animation:{open:{effects:"expandVertical fadeIn",duration:200,show:!0},close:{duration:200,show:!1,hide:!0}}},select:function(b){var c=this;if(arguments.length==0)return c.element.find("li."+s);a(b).each(function(b,d){d=a(d),d.hasClass(s)||c.activateTab(d)})},enable:function(a,b){b!==!1&&(b=!0),this._toggleDisabled(a,b)},disable:function(a){this._toggleDisabled(a,!1)},reload:function(b){var c=this;a(b).each(function(){var b=a(this),d=b.find(".t-link").data("ContentUrl");d&&c.ajaxRequest(b,a(c.getContentElement(b.index())),null,d)})},append:function(b){var c=this,d=c._create(b);a.each(d.tabs,function(a){c.tabGroup.append(this),c.element.append(d.contents[a])}),c._updateFirstLast(),c._updateContentElements()},insertBefore:function(b,c){var d=this,e=this._create(b),f=a(d.getContentElement(c.index()));a.each(e.tabs,function(a){c.before(this),f.before(e.contents[a])}),d._updateFirstLast(),d._updateContentElements()},insertAfter:function(b,c){var d=this,e=this._create(b),f=a(d.getContentElement(c.index()));a.each(e.tabs,function(a){c.after(this),f.after(e.contents[a])}),d._updateFirstLast(),d._updateContentElements()},remove:function(b){b=a(b);var c=this,d=a(c.getContentElement(b.index()));d.remove(),b.remove(),c._updateContentElements()},_create:function(b){var c=a.isPlainObject(b),d=this,f,g;c||a.isArray(b)?(f=a.map(c?[b]:b,function(b,c){return a(w.renderItem({group:d.tabGroup,item:e(b,{index:c})}))}),g=a.map(c?[b]:b,function(b,c){return a(w.renderContent({item:e(b,{index:c})}))})):(f=a(b),g=a("<div class='t-content'></div>"),this._updateTabClasses(b));return{tabs:f,contents:g}},_toggleDisabled:function(b,c){a(b).each(function(){a(this).toggleClass(r,c).toggleClass(q,!c)})},_updateClasses:function(){var b=this,c,d,e;b.element.addClass("t-widget t-header t-tabstrip"),b.tabGroup=b.element.children("ul").addClass("t-tabstrip-items t-reset"),c=b.tabGroup.find("li").addClass("t-item"),d=c.filter("."+s).index(),e=d>=0?d:undefined,b.tabGroup.contents().filter(function(){return this.nodeType==3&&!a.trim(this.nodeValue)}).remove(),b.contentElements=b.element.children("div"),b.contentElements.addClass("t-content").eq(e).addClass(s).css({display:"block"}),b._updateTabClasses(c),b._updateContentElements(),b._updateFirstLast()},_updateTabClasses:function(b){b.children("img").addClass("t-image"),b.children("a").addClass("t-link").children("img").addClass("t-image"),b.filter(":not([disabled]):not([class*=t-state-disabled])").addClass(r),b.filter("li[disabled]").addClass(q).removeAttr("disabled"),b.filter(":not([class*=t-state])").children("a:focus").parent().addClass(s),b.each(function(){var b=a(this);b.children(".t-link").length||b.contents().filter(function(){return!(this.nodeName.toLowerCase()in{a:{},div:{}})&&(this.nodeType!=3||!!a.trim(this.nodeValue))}).wrapAll("<a class='t-link'/>")})},_updateContentElements:function(){var b=this,c=b.element.attr("id");b.contentElements=b.element.children("div"),b.tabGroup.find(".t-item").each(function(d){var e=b.contentElements.eq(d),f=c+"-"+(d+1),g=a(this).children(".t-link").attr("href");e.length?e.attr("id",f):a("<div id='"+f+"' class='t-content'></div>").appendTo(b.element)}),b.contentElements=b.element.children("div")},_updateFirstLast:function(){var a=this.tabGroup.children(".t-item");a.filter(".t-first:not(:first-child)").removeClass("t-first"),a.filter(".t-last:not(:last-child)").removeClass("t-last"),a.filter(":first-child").addClass("t-first"),a.filter(":last-child").addClass("t-last")},_toggleHover:function(b){a(b.currentTarget).toggleClass(t,b.type==k)},_click:function(b){var c=this,d=a(b.currentTarget),e=d.find(".t-link"),f=e.attr("href"),g=a(c.getContentElement(d.index()));if(d.is("."+q+",."+s))b.preventDefault();else{if(a(".t-content",this.element).filter(function(){return a(this).data("animating")}).length)return;if(c.trigger(i,{item:d[0],contentElement:g[0]}))b.preventDefault();else{var h=e.data("ContentUrl")||f&&(f.charAt(f.length-1)=="#"||f.indexOf("#"+c.element[0].id+"-")!=-1);if(!f||h)b.preventDefault();else return;c.activateTab(d)&&b.preventDefault()}}},activateTab:function(b){var d=this,f=d.options.animation.close&&"effects"in d.options.animation.close,g=f?d.options.animation.close:e(e({reverse:!0},d.options.animation.open),{show:!1,hide:!0}),h=d.options.animation.open,i=b.parent().children(),j=i.filter("."+s),k=i.index(b);c.size(h.effects)?(j.kendoRemoveClass(s,{duration:g.duration}),b.kendoRemoveClass(t,{duration:g.duration})):(j.removeClass(s),b.removeClass(t));var l=d.contentElements;if(l.length==0)return!1;var m=l.filter("."+s),n=a(d.getContentElement(k));if(n.length==0){m.removeClass(s).kendoStop(!0,!0).kendoAnimate(g);return!1}var o=(b.children(".t-link").data("ContentUrl")||!1)&&n.is(v),p=function(){j.removeClass(u),b.addClass(u).css("z-index"),c.size(h.effects)?(j.kendoAddClass(r,{duration:h.duration}),b.kendoAddClass(s,{duration:h.duration})):(j.addClass(r),b.addClass(s)),n.addClass(s).kendoStop(!0,!0).kendoAnimate(h)},q=function(){o?d.ajaxRequest(b,n,function(){p()}):p()};m.removeClass(s),m.length?m.kendoStop(!0,!0).kendoAnimate(e({complete:q},g)):q();return!0},getContentElement:function(a){if(!isNaN(a-0)){var b=this.contentElements,c=new RegExp("-"+(a+1)+"$");for(var d=0,e=b.length;d<e;d++)if(c.test(b[d].id))return b[d]}},ajaxRequest:function(b,c,d,e){if(!b.find(".t-loading").length){var f=this,g=b.find(".t-link"),h={},i=null,k=setTimeout(function(){i=a("<span class='t-icon t-loading'></span>").prependTo(g)},100);a.ajax({type:"GET",cache:!1,url:e||g.data("ContentUrl")||g.attr("href"),dataType:"html",data:h,error:function(a,b){f.trigger("error",{xhr:a,status:b})&&this.complete()},complete:function(){clearTimeout(k),i!==null&&i.remove()},success:function(a,e){c.html(a),d&&d.call(f,c),f.trigger(j,{item:b[0],contentElement:c[0]})}})}}});e(w,{renderItem:function(a){a=e({tabStrip:{},group:{}},a);var b=w.templates,c=b.empty,d=a.item,f=a.tabStrip;return b.item(e(a,{image:d.imageUrl?b.image:c,sprite:d.spriteCssClass?b.sprite:c,itemWrapper:b.itemWrapper},w.rendering))},renderContent:function(a){return w.templates.content(e(a,w.rendering))}}),w.rendering={wrapperCssClass:function(a,b){var c="t-item",d=b.index;b.enabled===!1?c+=" t-state-disabled":c+=" t-state-default",d==0&&(c+=" t-first"),d==a.length-1&&(c+=" t-last");return c},textAttributes:function(a){return a.url?" href='"+a.url+"'":""},text:function(a){return a.encoded===!1?a.text:c.htmlEncode(a.text)},tag:function(a){return a.url?"a":"span"},contentAttributes:function(a){return a.active!==!0?" style='display:none'":""}},w.templates={content:f("<div class='t-content'<#= contentAttributes(data) #>>&nbsp;</div>"),itemWrapper:f("<<#= tag(item) #> class='t-link'<#= textAttributes(item) #>><#= image(item) #><#= sprite(item) #><#= text(item) #></<#= tag(item) #>>"),item:f("<li class='<#= wrapperCssClass(group, item) #>'><#= itemWrapper(data) #></li>"),image:f("<img class='t-image' alt='' src='<#= imageUrl #>' />"),sprite:f("<span class='t-sprite <#= spriteCssClass #>'></span>"),empty:f("")},c.ui.plugin("TabStrip",w,g)})(jQuery,window)